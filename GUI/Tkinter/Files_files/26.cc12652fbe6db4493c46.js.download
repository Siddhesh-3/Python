(window.webpackJsonp=window.webpackJsonp||[]).push([[26,194],{"+MHB":function(module,e,t){"use strict";var n=t("welz"),r=t.n(n),i=t("tDXo"),a=t("+MK6"),s=t("P4G6"),o=new i.a("[data-js=origami]");o.router.on("route",function(){Object(s.b)()}),o.enableRR=function(){var e=o.router;o.router=a.a,o.router.on("routerWillLeave",function(t){e.unsavedWarningModal(t)}),r.a.history={}},o.on("deprecatedUsage",s.a),e.a=o},"+MK6":function(module,e,t){"use strict";var n=t("RIqP"),r=t.n(n),i=t("VbXa"),a=t.n(i),s=t("oYk5"),o=t.n(s),c=t("F/us"),u=t.n(c),l=t("BVC1"),d=t("yiR1"),m=t.n(d),p=t("47m/"),f=t.n(p),h=t("Af4h"),v=t.n(h),b=t("q1tI"),g=t.n(b),S=t("j4LP"),y,E=function App(e){var t=e.children;return g.a.createElement("div",null,g.a.createElement("div",{"data-js":"origami"}),t)};E.propTypes={children:g.a.PropTypes.node};var I=function(e){function NotFoundRedirect(){return e.apply(this,arguments)||this}a()(NotFoundRedirect,e);var t=NotFoundRedirect.prototype;return t.componentWillMount=function componentWillMount(){y.trigger("error",404)},t.render=function render(){return null},NotFoundRedirect}(g.a.Component),w=function legacyRouteHandler(e,t,n){var r,i;return i=r=function(r){function LegacyRouteHandler(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=r.call.apply(r,[this].concat(n))||this).state={userConfirmed:!1},e.routerWillLeave=function(t){if(e.state.userConfirmed)return!0;if(t)return e.setState({nextLocation:t}),y.trigger("routerWillLeave",function(t){t?e.setState({userConfirmed:t},function(){e.context.router.push(e.state.nextLocation)}):e.setState({nextLocation:null,userConfirmed:!1})}),!1},e}a()(LegacyRouteHandler,r);var i=LegacyRouteHandler.prototype;return i.componentDidMount=function componentDidMount(){this.executeLegacyRoute()},i.componentDidUpdate=function componentDidUpdate(e){this.props.location.key!==e.location.key&&this.executeLegacyRoute()},i.executeLegacyRoute=function executeLegacyRoute(){var r=t(e,this.context.router.params);n.apply(this,r.concat(this.context.router.location.query)),this.context.router.setRouteLeaveHook(this.props.route,this.routerWillLeave)},i.render=function render(){return g.a.createElement("div",null)},LegacyRouteHandler}(g.a.Component),r.propTypes={location:g.a.PropTypes.object.isRequired,route:g.a.PropTypes.object.isRequired},r.contextTypes={router:g.a.PropTypes.object.isRequired},i},P;y=new(function(){function ReactRouterAdapter(){this.routes={},this.nativeRoutes=[],this.visitedFragments=[],m.a.emitter(this)}var e=ReactRouterAdapter.prototype;return e.addRoutes=function addRoutes(e,t){t?Object.assign(this.routes,u()(e).mapObject(t)):Object.assign(this.routes,e)},e.addNativeRoutes=function addNativeRoutes(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.nativeRoutes.push(e)},e.getLegacyRoutes=function getLegacyRoutes(e){var t=this;return u()(this.routes).map(function(n,r){return r?g.a.createElement(f.a,{key:r,path:r,component:w(r,t.getLegacyRouteParams,n)}):g.a.createElement(v.a,{key:"index:".concat(e),component:w(r,t.getLegacyRouteParams,n)})})},e.getRoutes=function getRoutes(e){if(!this.getLegacyRoutes(e).length&&this.nativeRoutes.length)return this.nativeRoutes;var t=[].concat(r()(this.getLegacyRoutes(e)),r()(this.nativeRoutes),[g.a.createElement(f.a,{path:"*",key:"notFoundRoute",component:I})]);return g.a.createElement(f.a,{path:e,component:E},t)},e.getLegacyRouteParams=function getLegacyRouteParams(e,t){var n=/\:\w*/g,r=e.match(n);return r?u()(r).chain().compact().invoke("slice",1).reduce(function(e,n){return e.concat(t[n])},[]).value():[]},e.setupLinks=function setupLinks(e,t){this.routePrefix=e,this.linkSelector=t,o()("body").on("click","a"+this.linkSelector,function(e){e.ctrlKey||e.metaKey||(e.preventDefault(),this.navigate(o()(e.currentTarget).attr("href"),!0))}.bind(this))},e.navigate=function navigate(e,t){var n=e;0!==n.indexOf(this.routePrefix)&&(n=l.a.join(this.routePrefix,n)),t&&t.replace||this.addFragmentToVisited(n),!0===t||t&&!0===t.trigger?t&&t.replace?this.rr.replace(n):this.rr.push(n):t&&t.replace?window.history.replaceState(null,null,n):window.history.pushState(null,null,n)},e.navigateTo=function navigateTo(e,t){if(!e&&""!==e)throw new Error("router.navigateTo received no href");this.navigate(e.replace(this.routePrefix,""),t)},e.addFragmentToVisited=function addFragmentToVisited(e){this.visitedFragments.push(e)},e.start=function start(e,t){var n=this,r=Object(S.a)("rendered-content");Object(S.b)(this.getRoutes(e),r).then(function(e){n.rr=e})},ReactRouterAdapter}()),e.a=y},"/8bL":function(module,exports,e){},"/oUD":function(module,e,t){"use strict";var n=t("lSNA"),r=t.n(n),i=t("VbXa"),a=t.n(i),s=t("sEfC"),o=t.n(s),c=t("17x9"),u=t.n(c),l=t("q1tI"),d=t.n(l),m=t("W1i5"),p=t("kwmr"),f=t("oYk5"),h=t.n(f),v=t("F/us"),b=t.n(v),g=t("+LJP"),S=t("EdUP"),y=t("Zr0k"),E=t("jSbv"),I=t("JrTX"),w=t("grTl"),P=t("5ijc"),C=t("IG+7"),O=t("xPfO"),R=t("VMeS"),A=t("2Ui0"),T=t("yOj8"),N=t("JN/V"),j=t("MEnl"),x=t("pLWS"),k=t("sQ/U"),D=t("KMW/"),V=t("s2tf"),M=t("hbUA");function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var U=3e3,L=function(e){function PeerItemEditView(t,n){var r;return(r=e.call(this,t,n)||this).handleSubmit=function(e){var t=r.props,n=t.computedItem,i=t.latestSubmissionAndRelated,a=t.courseId,s=t.courseSlug;r.context.executeAction(y.e,{itemId:n.id,submission:i.submission,assignmentVersion:i.submissionSchema.assignmentVersion,verifiableId:e,courseId:a,courseSlug:s,userId:k.a.get().id})},r.handleSave=function(){var e=r.props,t=e.computedItem,n=e.latestSubmissionAndRelated,i=e.courseId;r.setState({hasSaved:!0}),r.context.executeAction(y.d,{courseId:i,userId:k.a.get().id,itemId:t.id,submission:n.submission,assignmentVersion:n.submissionSchema.assignmentVersion})},r.handleAutoSave=function(){var e=r.props,t=e.computedItem,n=e.latestSubmissionAndRelated,i=e.courseId;r.setState({hasSaved:!0}),r.context.executeAction(y.a,{courseId:i,userId:k.a.get().id,itemId:t.id,submission:n.submission,assignmentVersion:n.submissionSchema.assignmentVersion})},r.updateSubmissionPartGenerator=function(e){return function(t){var n=r.props.latestSubmissionAndRelated,i=h.a.extend(!0,{},n.submission);i.definition.parts[e]=t,r.context.executeAction(y.b,{submission:i}),D.a.get("Flex","enableSimilarityCheckerV3")&&r.autoSaveDraft()}},r.autoSaveDraft=o()(r.handleAutoSave,D.a.get("Flex","CAAutoSaveWaitTimeInMS")||U),r.blockSubmitPartGenerator=function(e){return function(t){var n=r.state.blockSubmitParts,i=Object.assign({},n);i[e]=t,r.setState({blockSubmitParts:i})}},r.updateSubmissionTitle=function(e){var t=r.props.latestSubmissionAndRelated,n=h.a.extend(!0,{},t.submission);n.definition.title=e,r.context.executeAction(y.b,{submission:n})},r.renderPreviewGradingCriteria=function(e){var t=r.props.latestSubmissionAndRelated;return d.a.createElement(x.a,{reviewSchema:t.reviewSchema,partId:e})},r.state={hasSaved:!1,blockSubmitParts:{}},r}var t;return a()(PeerItemEditView,e),PeerItemEditView.prototype.render=function render(){var e=this.props,t=e.naptimeSubmission,n=e.naptimeSubmissionSchema,r=e.errorTree,i=e.computedItem,a=e.submissionAppState,s=e.isVerifiable,o=e.lastSaveTime,c=e.showStaleAssignmentVersionError,u=e.courseId,l=e.courseBranchId,m=e.latestSubmissionAndRelated,p=e.draftHasLocalChanges,f=e.capabilitiesWithReasons,h=i.id,v=this.state.hasSaved,g=b.a.contains(b.a.values(this.state.blockSubmitParts),!0),S=m.submission,y=S.versionedAssignmentId,E=S.creatorId;return d.a.createElement("div",{className:"rc-PeerItemEditView"},d.a.createElement(V.a,{itemId:h,courseBranchId:l,courseId:u,hasSaved:v}),d.a.createElement(N.a,{submissionAppState:a,errorTree:r,isSubmitted:!1},d.a.createElement(A.a,{showStaleAssignmentVersionError:c,computedItem:i}),d.a.createElement(j.a,{courseId:u,submission:t,submissionSchema:n,errorTree:r,isSubmitted:!1,submissionAppState:a,updateSubmissionTitle:this.updateSubmissionTitle,updateSubmissionPartGenerator:this.updateSubmissionPartGenerator,blockSubmitPartGenerator:this.blockSubmitPartGenerator,renderInlineNode:this.renderPreviewGradingCriteria,itemId:h,versionedAssignmentId:y,creatorId:E,draftHasLocalChanges:p}),d.a.createElement(T.a,{submissionAppState:a,lastSaveTime:o,handleSave:this.handleSave,handleSubmit:this.handleSubmit,blockSubmit:g,isVerifiable:s,computedItem:i,capabilitiesWithReasons:f})))},PeerItemEditView}(d.a.Component);L.contextTypes={executeAction:u.a.func.isRequired},e.a=b.a.compose(Object(g.a)(function(e){return{showStaleAssignmentVersionError:!!e.location.query.showStaleAssignmentVersionError}}),Object(p.a)([E.a,I.a,P.a,C.a,O.a,w.a],function(e,t,n,r,i,a,s){var o=s.computedItem;return{latestSubmissionAndRelated:e.getState().latestSubmissionAndRelated,naptimeSubmission:e.getState().naptimeSubmission,naptimeSubmissionSchema:e.getState().naptimeSubmissionSchema,draftHasLocalChanges:e.getState().hasLocalChanges,submissionAppState:t.getState(),isVerifiable:n.isProductVerificationEnabled()&&o&&Object(M.i)(o),courseId:r.getCourseId(),courseSlug:r.getCourseSlug(),courseBranchId:i.getBranchId()||r.getCourseId(),capabilitiesWithReasons:a.getState().capabilitiesWithReasons}}),Object(S.a)(function(e){var t;return e.latestSubmissionAndRelated},d.a.createElement(R.a,{className:"rc-PeerItemEditView"})),Object(m.a)(function(e){return _objectSpread(_objectSpread({},e),{},{errorTree:e.latestSubmissionAndRelated.errorTree,lastSaveTime:e.latestSubmissionAndRelated.submission&&e.latestSubmissionAndRelated.submission.createdAt})}))(L)},"12aJ":function(module,e,t){"use strict";var n=t("8cuT"),r=t("q1tI"),i=t.n(r),a=t("F/us"),s=t.n(a),o=t("L1vm"),c=t("VWxS"),u=t("EdUP"),l=t("6xos"),d=t("qPyB"),m=t("vrb+"),p=t("s2tf"),f=t("IG+7"),h=t("xPfO"),v=t("J4jG"),b=t.n(v),g=function PeerItemSubmittedView(e){var t=e.lastSaveTime,n=e.computedItem,r=e.title,a=e.submissionId,s=e.courseBranchId,o=e.courseId,u=e.isResubmissionAllowed,f=e.reviews;return i.a.createElement("div",{className:"rc-PeerItemSubmittedView rc-AssignmentSubmit"},i.a.createElement(p.a,{itemId:n.id,courseBranchId:s,courseId:o,hasSubmitted:!0}),i.a.createElement(m.a,{reviews:f}),i.a.createElement(l.a,{title:r,createdAt:t,shareableLink:i.a.createElement(d.a,{computedItem:n,submissionId:a})}),i.a.createElement(c.a,{courseId:o,computedItem:n,isResubmissionAllowed:u}))};e.a=s.a.compose(Object(n.a)(["PeerViewSubmissionStore",f.a,h.a],function(e){var t,n,r=e.PeerViewSubmissionStore,i=e.CourseStore,a=e.SessionStore,s,o,c;return r.getState().submissionAndRelated&&(c=r.getState().submissionAndRelated.submission.definition.title,o=r.getState().submissionAndRelated.submission.id,s=r.getState().submissionAndRelated.submission.createdAt),{title:c,submissionId:o,lastSaveTime:s,reviews:null===(t=r.getState())||void 0===t?void 0:null===(n=t.reviewSubmissionState)||void 0===n?void 0:n.reviews,courseId:i.getCourseId(),courseBranchId:a.getBranchId()||i.getCourseId()}}),Object(u.a)(function(e){return e.submissionId}),o.a.createTrackedContainer(function(){return{namespace:{page:"peer_review_my_project_review"}}}))(g)},"13gN":function(module,exports,e){},"1N/A":function(module,e,t){"use strict";var n=t("VbXa"),r=t.n(n),i=t("q1tI"),a=t.n(i),s=t("oYk5"),o=t.n(s),c=t("w/1P"),u=t.n(c),l=t("yhVA"),d=t.n(l),m=function(e){function UrlEditView(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onChangeUrl=function(e){var n=t.props,r=n.submissionPart,i=n.update,a=o.a.extend(!0,{},r);a.definition.url=e.currentTarget.value,i(a)},t.onChangeTitle=function(e){var n=t.props,r=n.submissionPart,i=n.update,a=o.a.extend(!0,{},r);a.definition.title=e.currentTarget.value,i(a)},t.onChangeCaption=function(e){var n=t.props,r=n.submissionPart,i=n.update,a=o.a.extend(!0,{},r);a.definition.caption=e.currentTarget.value,i(a)},t}var t;return r()(UrlEditView,e),UrlEditView.prototype.render=function render(){var e=this.props,t=e.submissionPart,n=e.id,r=e.ariaLabelledBy;if("url"!==t.typeName)return null;return a.a.createElement("div",{className:"rc-UrlEditView"},a.a.createElement("input",{id:n,className:"c-peer-review-submit-text-field c-peer-review-submit-text-field-group-top bt3-form-control",type:"text",placeholder:d()("URL"),"aria-labelledby":r,defaultValue:t.definition.url,onChange:this.onChangeUrl,disabled:this.props.disabled}),t.definition.url&&a.a.createElement("div",null,a.a.createElement("div",{className:"c-peer-review-submit-text-field-container"},a.a.createElement("input",{className:u()("c-peer-review-submit-text-field","c-peer-review-submit-text-field-group-middle","bt3-form-control"),type:"text",placeholder:d()("Title"),defaultValue:t.definition.title,onChange:this.onChangeTitle,disabled:this.props.disabled}),!t.definition.title&&a.a.createElement("div",{className:"c-peer-review-submit-text-field-annotation"},d()("optional"))),a.a.createElement("div",{className:"c-peer-review-submit-text-field-container"},a.a.createElement("textarea",{className:u()("c-peer-review-submit-textarea-field","c-peer-review-submit-text-field-group-bottom","bt3-form-control"),placeholder:d()("Caption"),defaultValue:t.definition.caption,onChange:this.onChangeCaption,disabled:this.props.disabled}),!t.definition.caption&&a.a.createElement("div",{className:"c-peer-review-submit-text-field-annotation"},d()("optional")))))},UrlEditView}(a.a.Component);e.a=m},"1Nwa":function(module,exports,e){var t=e("aHji"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},"1SWu":function(module,exports,e){},"2DyI":function(module,e,t){"use strict";var n=t("vNB3"),r=t("S+eF"),i=t.n(r);e.a=function(e){return i()(n.a.post("",e?{data:e}:{}))}},"2G20":function(module,e,t){"use strict";var n=t("CWYE");e.a=Object(n.a)("/api/verificationProgresses.v1",{type:"rest"})},"2Rnz":function(module,exports,e){var t=e("13gN"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},"2Ui0":function(module,e,t){"use strict";var n=t("VbXa"),r=t.n(n),i=t("17x9"),a=t.n(i),s=t("q1tI"),o=t.n(s),c=t("MnCE"),u=t("8cuT"),l=t("i4j5"),d=t("Zr0k"),m=t("sQ/U"),p=function(e){function PeerItemUpgradeNotification(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onRequestUpgrade=function(){var e=t.props,n=e.courseId,r=e.courseSlug,i=e.computedItem.id,a=e.submission,s=e.assignmentVersion,o=e.forceUpgradeToAssignmentVersion;t.context.executeAction(d.f,{itemId:i,submission:a,assignmentVersion:s,forceUpgradeToAssignmentVersion:o,courseId:n,courseSlug:r,userId:m.a.get().id})},t}var t;return r()(PeerItemUpgradeNotification,e),PeerItemUpgradeNotification.prototype.render=function render(){if(null==this.props.upgradeToCurrentAssignment)return null;return o.a.createElement("div",{className:"rc-PeerItemUpgradeNotification"},o.a.createElement(l.a,{onRequestUpgrade:this.onRequestUpgrade,upgradeToCurrentAssignment:this.props.upgradeToCurrentAssignment,showStaleAssignmentVersionError:this.props.showStaleAssignmentVersionError}))},PeerItemUpgradeNotification}(o.a.Component);p.contextTypes={executeAction:a.a.func.isRequired},e.a=Object(c.compose)(Object(u.a)(["PeerSubmissionDraftStore","CourseStore"],function(e){var t=e.PeerSubmissionDraftStore,n=e.CourseStore,r,i=t.getState().latestSubmissionAndRelated,a=null,s=null,o=null;return null!=i&&(a=i.upgradeToCurrentAssignment,s=i.submissionSchema.assignmentVersion,o=i.upgradeToCurrentAssignment&&i.upgradeToCurrentAssignment.upgradeToVersion),{submission:i&&i.submission,upgradeToCurrentAssignment:a,assignmentVersion:s,forceUpgradeToAssignmentVersion:o,courseId:n.getCourseId(),courseSlug:n.getCourseSlug()}}))(p)},"2q9w":function(module,e,t){"use strict";var n=t("VbXa"),r=t.n(n),i=t("q1tI"),a=t.n(i),s=t("MnCE"),o=t("w/1P"),c=t.n(o),u=t("rQpo"),l=t("q5zD"),d=t("AWZ4"),m=t("gNwb"),p=t("hbUA"),f=t("8cuT"),h=t("yhVA"),v=t.n(h),b=t("kvW3"),g=t("JJfJ"),S=t("ZAK3"),y=t.n(S),E=Object(m.d)({type:"BUTTON"})(d.b),I=function(e){function AssignmentSubmitControls(){return e.apply(this,arguments)||this}var t;return r()(AssignmentSubmitControls,e),AssignmentSubmitControls.prototype.render=function render(){var e=c()("rc-AssignmentSubmitControls","horizontal-box","align-items-right","align-items-vertical-center"),t=this.props,n=t.computedItem,r=t.courseId,i=t.lastSaveTime,s=Object(p.m)(n);return a.a.createElement("div",{className:e},a.a.createElement("div",{className:"save-state-display horizontal-box"},i&&i>0?a.a.createElement("div",{className:"color-secondary-text caption-text"},a.a.createElement(b.b,{message:v()("Last saved on {lastSaveDate} at {lastSaveTime}"),lastSaveDate:Object(g.t)(i,g.c),lastSaveTime:Object(g.t)(i,g.p)})):a.a.createElement("div",{className:"color-secondary caption-text"},v()("This project has not been saved."))),s&&a.a.createElement(u.a,{courseId:r}),!s&&a.a.createElement("div",null,a.a.createElement(E,{type:"secondary",rootClassName:"save-draft","data-e2e":"save-draft",disabled:this.props.isSaving||this.props.isSubmitting,onClick:this.props.onSave,trackingName:"save"},this.props.isSaving?a.a.createElement(l.a,{name:"spinner",className:"cif-spin"}):v()("Save draft")),a.a.createElement(E,{type:"primary",rootClassName:"preview","data-e2e":"preview",onClick:this.props.onSubmit,disabled:this.props.isSaving||this.props.isSubmitting||this.props.isSubmitDisabled,trackingName:"submit"},this.props.isSubmitting?a.a.createElement(l.a,{name:"spinner",className:"cif-spin"}):this.props.submitMessage)))},AssignmentSubmitControls}(a.a.Component);I.defaultProps={submitMessage:v()("Submit for review"),isSubmitDisabled:!1},e.a=Object(s.compose)(Object(f.a)(["CourseStore"],function(e){var t;return{courseId:e.CourseStore.getCourseId()}}))(I)},"2tO6":function(module,e,t){"use strict";var n=t("q1tI"),r=t.n(n),i=t("jWYR"),a=t("uZaC"),s=t("kvW3"),o=t("37kS"),c=t.n(o),u=t("9eLo"),l=t("EqTq"),d=t("D8S9"),m=t("T9G4"),p=t("6qMG"),f=t("CsdX"),h=t("C9fk"),v=t.n(h),b=Object(l.a)("PlagiarismDetectionResult"),g=function PlagiarismDetectionResult(e){var t=e.result,n=e.refetch,o;if(e.status===u.a.IN_PROGRESS)return null;var l=null==t?void 0:t.orgCourseraSimilaritycheckSimilarityCheckFailure,h=null==t?void 0:t.orgCourseraSimilaritycheckSimilarityCheckSuccess;if(l){if("PROCESSING_ERROR"===l.errorMsg)return r.a.createElement("div",{className:b()},r.a.createElement(d.b,{type:d.a.RETRY,title:c()("Check again for plagiarism")}));var v=Object(m.a)();return r.a.createElement("div",{className:b()},r.a.createElement(d.b,{type:d.a.ERROR,title:c()("Edit your response")},v[l.errorMsg]))}if(!h)return null;var g=h.score,S=h.url;if(0===g)return r.a.createElement("div",{className:b()},r.a.createElement(d.b,{type:d.a.NOT_DETECTED,title:c()("Plagiarism not detected")}));return r.a.createElement("div",{className:b()},r.a.createElement(d.b,{type:d.a.DETECTED,title:c()("Plagiarism detected")},r.a.createElement("div",{className:b("description")},r.a.createElement(s.b,{message:c()("Your response has a {percentScore} similarity score. The text matches sources found online or other learner's submissions."),percentScore:r.a.createElement("strong",null,g+"%")})),r.a.createElement("div",{className:b("links")},r.a.createElement(i.a,{refetch:n,link:S}),r.a.createElement("div",{className:b("learner-help-center-link-container")},r.a.createElement(a.a,{linkClasses:b("learner-help-center-link"),articleId:"360004031371",linkText:c()("Learner Help Center")}),r.a.createElement(p.a,{size:20,color:f.b.primary})))))};e.a=g},"4suC":function(module,e,t){"use strict";t.r(e);var n=t("VbXa"),r=t.n(n),i=t("q1tI"),a=t.n(i),s=t("8cuT"),o=t("F/us"),c=t.n(o),u=t("EdUP"),l=t("L1vm"),d=t("nLAy"),m=t("dAof"),p=t("VMeS"),f=t("12aJ"),h=t("gBtg"),v=t("/oUD"),b=t("sQ/U"),g=function(e){function PeerItemSubmit(){return e.apply(this,arguments)||this}var t;return r()(PeerItemSubmit,e),PeerItemSubmit.prototype.render=function render(){var e=this.props,t=e.isSubmitted,n=e.latestSubmissionId,r=e.computedItem,i=e.loadedPeerViewSubmissionId,s=e.isResubmissionAllowed,o=i!==n;return a.a.createElement(h.a,{isSubmitted:t,editView:a.a.createElement(v.a,{computedItem:r}),submittedView:o?a.a.createElement(p.a,{className:"rc-PeerItemSubmit"}):a.a.createElement(f.a,{computedItem:r,isResubmissionAllowed:s})})},PeerItemSubmit}(a.a.Component),S=c.a.compose(l.a.createTrackedContainer(function(){return{namespace:{page:"peer_review_my_project"}}}),Object(s.a)(["CourseStore","PeerViewSubmissionStore","PeerPermissionsAndProgressesStore"],function(e,t){var n=e.CourseStore,r=e.PeerViewSubmissionStore,i=e.PeerPermissionsAndProgressesStore,a=t.computedItem;return{isPeerProgressesLoaded:"loaded"===i.getState().loadState,loadedPeerViewSubmissionId:r.getState().submissionId,isSubmitted:i.getState().isSubmitted,latestSubmissionId:i.getState().latestSubmissionId,courseId:n.getCourseId()}}),Object(u.a)(function(e){var t;return e.isPeerProgressesLoaded},a.a.createElement(p.a,{className:"rc-PeerItemSubmit"})),Object(m.a)(function(e,t){var n=t.computedItem,r=t.courseId,i=t.isSubmitted,a=t.latestSubmissionId,s=t.loadedPeerViewSubmissionId,o;i&&a&&(s!==a&&e.executeAction(d.d,{userId:b.a.get().id,courseId:r,itemId:n.id,submissionId:a}))}))(g);e.default=S},"4tl4":function(module,e,t){"use strict";var n=t("q1tI"),r=t.n(n),i=function PlainTextView(e){var t=e.submissionPart;return r.a.createElement("span",{className:"rc-PlainTextView"},t.plainText&&r.a.createElement("p",{className:"body-1-text",style:{whiteSpace:"pre-line",wordWrap:"break-word"}},t.plainText))};e.a=i},"4uky":function(module,e,t){"use strict";var n=t("q1tI"),r=t.n(n),i=t("EqTq"),a=t("lS9S"),s=t.n(a),o=Object(i.a)("PeerAnonymousNotification"),c=function PeerAnonymousNotification(e){var t=e.children;return r.a.createElement("div",{className:o()},t)};e.a=c},"4vcJ":function(module,exports,e){var t=e("wrAX"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},"5iHD":function(module,e,t){"use strict";var n=t("pVnL"),r=t.n(n),i=t("q1tI"),a=t.n(i),s=t("MnCE"),o=t("ITCt"),c=function SvgInfo(e){return a.a.createElement(o.a,r()({},e,{viewBox:"0 0 48 48"}),a.a.createElement("title",null,"Info"),a.a.createElement("path",{d:"M24,46 C11.869,46 2,36.131 2,24 C2,11.869 11.869,2 24,2 C36.131,2 46,11.869 46,24 C46,36.131 36.131,46 24,46 M24,0 C10.767,0 0,10.767 0,24 C0,37.233 10.767,48 24,48 C37.233,48 48,37.233 48,24 C48,10.767 37.233,0 24,0"}),a.a.createElement("path",{d:"M24,16 C25.105,16 26,15.104 26,14 C26,12.896 25.105,12 24,12 C22.895,12 22,12.896 22,14 C22,15.104 22.895,16 24,16"}),a.a.createElement("polygon",{points:"25.4962 20.0093 20.4962 20.0093 20.4962 22.0093 23.4962 22.0093 23.4962 34.0093 20.4962 34.0093 20.4962 36.0093 28.4962 36.0093 28.4962 34.0093 25.4962 34.0093"}))};(c=Object(s.pure)(c)).displayName="SvgInfo",e.a=c},"6qFN":function(module,exports,e){var t=e("J0hC"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},"6sE6":function(module,e,t){"use strict";var n=t("k7PM"),r=t("CzRB");e.a=function(e,t){var i=Object(n.a)(e,t).then(function(e){return new r.a(e.elements[0])});return i.done(),i}},"6xos":function(module,e,t){"use strict";var n=t("VbXa"),r=t.n(n),i=t("17x9"),a=t.n(i),s=t("q1tI"),o=t.n(s),c=t("dcEN"),u=t.n(c),l=t("kvW3"),d=t("yhVA"),m=t.n(d),p=t("C3oq"),f=t.n(p),h=function(e){function MySubmissionHeader(){return e.apply(this,arguments)||this}var t;return r()(MySubmissionHeader,e),MySubmissionHeader.prototype.render=function render(){var e=this.props,t=e.title,n=e.createdAt,r=e.shareableLink;return o.a.createElement("div",{className:"rc-MySubmissionHeader bt3-clearfix"},o.a.createElement("div",{className:"headline-4-text"},t),o.a.createElement("div",{className:"horizontal-box"},!!n&&o.a.createElement("div",{className:"caption-text color-secondary-text"},o.a.createElement(l.b,{message:m()("Submitted on {creatorName}"),creatorName:u()(n).format("LL")})),r&&o.a.createElement("div",{className:"flex-1 align-right caption-text"},r)))},MySubmissionHeader}(o.a.Component);h.propTypes={title:a.a.string.isRequired,createdAt:a.a.number,shareableLink:a.a.element},e.a=h},"7AOT":function(module,e,t){"use strict";var n=t("VbXa"),r=t.n(n),i=t("q1tI"),a=t.n(i),s=t("beC1"),o=t("+2ZD"),c=t("37kS"),u=t.n(c),l=t("cbTo"),d=t.n(l),m=function(e){function GradingCriteriaPreviewModal(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={showModal:!1},t.onClickModalOpen=function(e){e.preventDefault(),t.setState({showModal:!0})},t.onClickModalClose=function(){t.setState({showModal:!1})},t}var t;return r()(GradingCriteriaPreviewModal,e),GradingCriteriaPreviewModal.prototype.render=function render(){if(0===this.props.criteria.length)return null;return a.a.createElement("div",{className:"rc-GradingCriteriaPreviewModal"},a.a.createElement("button",{type:"button",onClick:this.onClickModalOpen,className:"button-link"},u()("Preview grading criteria")),this.state.showModal&&a.a.createElement(o.a,{handleClose:this.onClickModalClose,modalName:u()("Preview grading criteria")},a.a.createElement("h1",null,u()("Preview grading criteria")),this.props.privilegedRoleViewReviewSchema&&a.a.createElement("div",{className:"criteria-warning color-warn-dark"},u()("You can preview the grading criteria because you have a privileged role in this course. Normal\n                  learners cannot see the grading criteria until they submit a submission.")),this.props.criteria.map(function(e){return a.a.createElement("div",{className:"criterion card-no-action compact",key:e.get("id")},a.a.createElement(s.a,{content:e.get("prompt"),assumeStringIsHtml:!1}))})))},GradingCriteriaPreviewModal}(a.a.Component);e.a=m},"7COj":function(module,exports,e){},"7Diq":function(module,e,t){"use strict";var n=t("VbXa"),r=t.n(n),i=t("q1tI"),a=t.n(i),s=t("NelE"),o=t("yhVA"),c=t.n(o),u=t("4vcJ"),l=t.n(u),d=function(e){function DisplayParts(){return e.apply(this,arguments)||this}var t;return r()(DisplayParts,e),DisplayParts.prototype.render=function render(){var e=this.props,t=e.reviewSchema,n=e.reviewsSummary,r=e.reviews,i=e.submissionSchemaPartId,o=e.submissionId,u=e.assignmentLevelPointsLabel,l=t.getPartsForSubmissionSchemaPart(i);if(0===l.length)return null;return a.a.createElement("div",{className:"rc-DisplayParts bgcolor-white"},a.a.createElement("div",{className:"title horizontal-box align-items-spacebetween label-text color-secondary-text"},a.a.createElement("span",null,null!=i?c()("Rubric"):c()("Overall Assignment Rubric")),a.a.createElement("span",null,null===i&&u)),a.a.createElement("div",{className:"body-1-text"},l.map(function(e){return a.a.createElement(s.a,{key:e.get("id"),reviewSchemaPart:e,reviewsSummary:n,reviews:r,submissionId:o})})))},DisplayParts}(a.a.Component);e.a=d},"7MHW":function(module,e,t){"use strict";t.d(e,"a",function(){return provideRequestCountryCode});var n=t("VbXa"),r=t.n(n),i=t("17x9"),a=t.n(i),s=t("q1tI"),o=t.n(s),c=t("w965");function provideRequestCountryCode(e){var t=e.displayName||e.name,n=function(t){function RequestCountryCodeContextProvider(){return t.apply(this,arguments)||this}r()(RequestCountryCodeContextProvider,t);var n=RequestCountryCodeContextProvider.prototype;return n.getChildContext=function getChildContext(){return{requestCountryCode:c.a}},n.render=function render(){return o.a.createElement(e,this.props)},RequestCountryCodeContextProvider}(o.a.Component);return n.displayName=t+"RequestCountryCodeContextProvider",n.childContextTypes={requestCountryCode:a.a.string},n}},"93XN":function(module,exports,e){},"9Cgw":function(module,e,t){"use strict";t.d(e,"b",function(){return i}),t.d(e,"a",function(){return o});var n={SUBMITTING:"submitting",SUBMIT_ERROR:"submitError",READY:"ready",SAVING:"saving",SAVE_ERROR:"saveError"},r=n,i=n.SUBMITTING,a=n.SUBMIT_ERROR,s=n.READY,o=n.SAVING,c=n.SAVE_ERROR},AbQT:function(module,exports){function webpackEmptyContext(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id="AbQT"},C2np:function(module,e,t){"use strict";var n=t("q1tI"),r=t.n(n),i=t("yfD/"),a=t("zAEL"),s=t.n(a),o=t("GaC8"),c=t.n(o),u=function CommentSection(e){var t=e.computedItem,n=e.submissionId,a=e.courseId;return r.a.createElement("div",{className:"rc-CommentsSection card-rich-interaction cozy"},r.a.createElement(i.a,{courseId:a,itemId:t.id,submissionId:n}))};e.a=u},C3oq:function(module,exports,e){var t=e("QRX4"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},C6SX:function(module,exports,e){var t=e("7COj"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},C9fk:function(module,exports,e){var t=e("rvzQ"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},CzRB:function(module,e,t){"use strict";var n=t("welz"),r,i=t.n(n).a.Model.extend({});e.a=i},D8S9:function(module,e,t){"use strict";t.d(e,"a",function(){return p});var n=t("q1tI"),r=t.n(n),i=t("9Zmq"),a=t("b7Px"),s=t("+Abi"),o=t("bj29"),c=t("m10x"),u=t("EqTq"),l=t("qVZV"),d=t.n(l),m=Object(u.a)("PlagiarismDetectionResultLayout"),p={RETRY:"retry",DETECTED:"detected",ERROR:"error",NOT_DETECTED:"not_detected"},f=function getResultIcon(e){var t=22;switch(e){case p.RETRY:return r.a.createElement(s.a,{size:22});case p.DETECTED:return r.a.createElement(a.a,{size:22});case p.ERROR:return r.a.createElement(o.a,{size:22,color:"#F2D049"});case p.NOT_DETECTED:return r.a.createElement(i.a,{size:22});default:return null}},h=function PlagiarismDetectionResultLayout(e){var t=e.title,n=e.type,i=e.children;return r.a.createElement("div",{className:m(void 0,n)},r.a.createElement("div",{className:m("left-container")},r.a.createElement("div",{className:m("icon")},f(n))),r.a.createElement("div",{className:m("right-container")},r.a.createElement(c.i,{tag:"div"},t),i&&r.a.createElement("div",{className:m("children")},i)))};e.b=h},"E+pM":function(module,exports,e){},Ef0b:function(module,e,t){"use strict";t.d(e,"b",function(){return I}),t.d(e,"a",function(){return w}),t.d(e,"c",function(){return P});var n=t("S+eF"),r=t.n(n),i=t("F/us"),a=t.n(i),s=t("bPpC"),o=t("uPmI"),c=t("Q3zy"),u=t("o/MR"),l=t("beWW"),d=t("nLAy"),m=t("Hk9X"),p=t("fAMf"),f=t("E4RX"),h=t("StP4"),v=t("Nher"),b=t("uhR6"),g=function loadAssignment(e,t){var n=t.userId,r=t.courseId,i=t.itemId;return e.dispatch(b.a.LOADING_PEER_ASSIGNMENT),Object(u.a)({userId:n,courseId:r,itemId:i}).then(function(t){return e.dispatch(b.a.LOADED_PEER_ASSIGNMENT,{assignment:Object(m.a)(t),loadedItemId:i}),t})},S=function loadPermissionsAndProgresses(e,t){var n=t.userId,r=t.courseId,i=t.itemId;return e.dispatch(b.a.LOADING_PEER_USER_PERMISSIONS),Object(o.a)(n,r,i).then(function(t){e.dispatch(b.a.LOADED_DISPLAYABLE_PHASE_SCHEDULE,{displayablePhaseSchedule:t.displayablePhaseSchedules});var n=a()(t.assignmentPermissions).chain().pick(function(e){return e.isAllowed}).keys().value();return e.dispatch(b.a.LOADED_PEER_USER_PERMISSIONS,{capabilities:n,capabilitiesWithReasons:t.assignmentPermissions,receivedReviewProgresses:t.receivedReviewProgresses,submissionProgresses:t.submissionProgresses}),t})},y=function loadSubmissionDraft(e,t){var n=t.userId,i=t.courseId,a=t.itemId,s=t.permissionsAndProgresses,o=t.submissionSchema,u=t.reviewSchema;return e.dispatch(b.a.PEER_SUBMISSION_DRAFT_LOADING),null==s.submissionProgresses.latestDraftSummary?r()(Object(m.g)(o,u,n)).then(function(t){return e.dispatch(b.a.LOADED_PEER_SUBMISSION_DRAFT,{naptimeSubmissionSchema:o,naptimeSubmission:Object(p.a)(o.submissionSchema,n),latestSubmissionAndRelated:t})}):Object(c.b)({userId:n,courseId:i,itemId:a}).then(function(t){var n=Object(m.d)(t);return e.dispatch(b.a.LOADED_PEER_SUBMISSION_DRAFT,{naptimeSubmission:t.submission,naptimeSubmissionSchema:o,latestSubmissionAndRelated:n})})},E=function loadLatestSubmission(e,t){var n=t.userId,i=t.courseId,a=t.itemId,s=t.permissionsAndProgresses,o=t.submissionSchema,c=t.reviewSchema,u=t.shouldLoadOwnPeerViewSubmission;return null==s.submissionProgresses.latestSubmissionSummary?y(e,{userId:n,courseId:i,itemId:a,permissionsAndProgresses:s,submissionSchema:o,reviewSchema:c}):u?Object(d.d)(e,{userId:n,courseId:i,itemId:a,submissionId:s.submissionProgresses.latestSubmissionSummary.computed.id}):r()()},I=function loadReviewQueue(e,t){var n=t.userId,r=t.itemId,i=t.courseId,a=t.limit,s=t.start;return e.dispatch(b.a.REVIEW_QUEUE_LOADING),Object(l.a)({userId:n,courseId:i,itemId:r,start:s,limit:a}).then(function(e){return Object(m.b)(e)}).then(function(t){e.dispatch(b.a.REVIEW_QUEUE_LOADED,{data:t,itemId:r})}).catch(function(t){if(403!==t.status)throw t;e.dispatch(b.a.REVIEW_QUEUE_ERROR,{errorType:"mustSubmitBeforeReviewing"})})},w=function loadInitialPeerData(e,t){var n=t.userId,i=t.courseId,a=t.itemId,o=t.forceRefresh,c=t.shouldLoadOwnPeerViewSubmission,u=e.getStore(s.a).getState(),l="loaded"===u.loadState,d=a!==u.loadedItemId;if(!o&&l&&!d)return r()({});return r.a.all([S(e,{userId:n,courseId:i,itemId:a}),g(e,{userId:n,courseId:i,itemId:a})]).spread(function(t,r){return E(e,{userId:n,courseId:i,itemId:a,permissionsAndProgresses:t,submissionSchema:r.linked["onDemandPeerSubmissionSchemas.v1"][0],reviewSchema:r.linked["onDemandPeerReviewSchemas.v1"][0],shouldLoadOwnPeerViewSubmission:c})})},P=function refreshSubmissionAndProgress(e,t){var n=t.userId,r=t.courseId,i=t.courseSlug,a=t.itemId;return w(e,{userId:n,courseId:r,itemId:a,forceRefresh:!0,shouldLoadOwnPeerViewSubmission:!0}).then(function(){return e.executeAction(f.a,{courseId:r,refreshProgress:!0}).then(function(){return Promise.all([e.executeAction(f.a,{courseId:r,refreshProgress:!0}),e.executeAction(v.b,{courseId:r}),e.executeAction(h.b,{courseSlug:i,refetch:!0})])})})}},GaC8:function(module,exports,e){var t=e("gLuy"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},J0hC:function(module,exports,e){},J2aD:function(module,e,t){"use strict";var n=t("VbXa"),r=t.n(n),i=t("q1tI"),a=t.n(i),s=t("w/1P"),o=t.n(s),c=t("beC1"),u=t("wPTH"),l=t("4tl4"),d=t("fiqM"),m=t("X/PO"),p=t("yMmU"),f=t("PNHL"),h=t("rlpc"),v=t("yhVA"),b=t.n(v),g=t("uVbM"),S=t.n(g),y=function(e){function SubmissionPartView(){return e.apply(this,arguments)||this}r()(SubmissionPartView,e);var t=SubmissionPartView.prototype;return t.renderSpecificPart=function renderSpecificPart(){var e=this.props,t=e.submissionPart,n=e.showAutoSubmittedNote;if(!t)return null;switch(t.typeName){case"plainText":return a.a.createElement(l.a,{submissionPart:t.definition});case"richText":return a.a.createElement(u.a,{submissionPart:t.definition});case"url":return a.a.createElement(h.a,{submissionPart:t.definition});case"fileUpload":return a.a.createElement(f.a,{submissionPart:t.definition});case"offPlatform":return n&&a.a.createElement(d.a,null);case"git":return a.a.createElement(m.a,{submissionPart:t.definition});default:return null}},t.render=function render(){var e=this.props,t=e.submissionSchemaPart,n=e.isInvalid,r=o()("rc-SubmissionPartView","bgcolor-white",{invalid:n});return a.a.createElement(p.a,null,a.a.createElement("div",{className:r},a.a.createElement("div",{className:"title label-text color-secondary-text"},b()("Prompt")),a.a.createElement("div",{className:"prompt caption-text color-secondary-text"},a.a.createElement(c.a,{content:t.prompt,assumeStringIsHtml:!0})),a.a.createElement("div",{className:"body-1-text scrollable"},this.renderSpecificPart()),n&&a.a.createElement("div",{className:"body-2-text color-danger"},"Invalid submission part")))},SubmissionPartView}(a.a.Component);y.defaultProps={isInvalid:!1,showAutoSubmittedNote:!1},e.a=y},J4jG:function(module,exports,e){var t=e("gp8a"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},"JN/V":function(module,e,t){"use strict";var n=t("q1tI"),r=t.n(n),i=t("Ux1H"),a=function EditView(e){var t=e.submissionAppState,n=e.errorTree,a=e.isSubmitted,s=e.children;return r.a.createElement("div",{className:"rc-AssignmentEditView rc-AssignmentSubmit"},r.a.createElement(i.a,{isSubmitted:a,submissionAppState:t,errorTree:n}),r.a.createElement("div",null,s))};e.a=a},JOPA:function(module,exports,e){var t=e("jkO5"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},KIfn:function(module,e,t){"use strict";var n=t("VbXa"),r=t.n(n),i=t("q1tI"),a=t.n(i),s=t("EqTq"),o=t("ca6j"),c=t("8Ytk"),u=t("AWZ4"),l=t("yhVA"),d=t.n(l),m=t("sQ/U"),p=t("2Rnz"),f=t.n(p),h=Object(s.a)("CommentTextArea"),v=function(e){function CommentTextArea(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={},t.onChange=function(e){var n=e.target.value;t.setState({comment:n})},t.onPostClick=function(){var e=t.props.onPostingComment,n=t.state.comment;n&&e(n).then(function(){t.setState({comment:""})})},t}var t;return r()(CommentTextArea,e),CommentTextArea.prototype.render=function render(){var e=this.props.submissionId,t=this.state.comment;return a.a.createElement("div",{className:h()},a.a.createElement("div",{className:h("profile-image-container",void 0,"pii-hide")},a.a.createElement(o.a,{profile:{photoUrl:m.a.get().photo_120,fullName:m.a.get().fullName}})),a.a.createElement("div",{className:h("input-container")},a.a.createElement(c.a,{label:d()("Enter Peer Review comments"),value:t,componentId:"".concat(e,"~comment"),placeholder:d()("Share your thoughts..."),onChange:this.onChange}),t&&a.a.createElement("div",{className:h("button-container")},a.a.createElement(u.b,{type:"secondary",size:"sm",label:d()("Post"),onClick:this.onPostClick}))))},CommentTextArea}(a.a.Component);e.a=v},KwvP:function(module,e,t){"use strict";var n=t("XqAp"),r=t("+MHB"),i=new n.a;i.start(r.a.router),e.a=i},LwsB:function(module,e,t){"use strict";var n=t("q1tI"),r=t.n(n),i=t("EqTq"),a=t("wd/R"),s=t.n(a),o=t("m10x"),c=t("ca6j"),u=t("yhVA"),l=t.n(u),d=t("sTn5"),m=t.n(d),p=Object(i.a)("CommentRow"),f=function CommentRow(e){var t=e.commentData,n=t.creator,i=t.comment;return r.a.createElement("div",{className:p()},r.a.createElement("div",{className:p("profile-image-container")},r.a.createElement(c.a,{profile:n})),r.a.createElement("div",{className:p("comment-container")},r.a.createElement("div",{className:p("name-and-time-container")},r.a.createElement(o.i,{rootClassName:p("full-name",void 0,"pii-hide")},n.isAnonymous?l()("Anonymous Learner"):n.fullName),r.a.createElement("div",{className:p("comment-time")},s()(i.createdAt).fromNow())),r.a.createElement("div",{className:p("comment-content")},i.comment.definition.comment)))};e.a=f},MEnl:function(module,e,t){"use strict";var n=t("lSNA"),r=t.n(n),i=t("VbXa"),a=t.n(i),s=t("q1tI"),o=t.n(s),c=t("e6Tq"),u=t("mk7w"),l=t("Sw8l"),d=t("mgnl"),m=t("KMW/"),p=t("qC2T"),f=t.n(p),h=t("i5JE"),v=t.n(h);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var b=function(e){function AssignmentSubmitEditView(t){var n;return(n=e.call(this,t)||this).handleTitleChange=function(e){var t=n.props.updateSubmissionTitle;e.target instanceof HTMLInputElement&&(n.setState({inputValue:e.target.value}),t(e.target.value))},n.handleInputWithErrorFocus=function(){var e,t,r=(n.props.submissionAppState||{}).showValidation,i=n.state,a=i.firstSubmissionSchemaPartWithError,s=i.titleHasError;if(r){var o=document.getElementById("input-".concat((a||{}).id));if(s)return void(n.titleInputRef&&n.titleInputRef.focus());a&&o&&o.focus()}},n.getFirstSubmissionSchemaPartWithError=function(){var e=n.props,t=e.submissionSchema,r=e.errorTree;return t.parts.find(function(e){var t=e.id;return(((r.children||{})[t]||{}).errors||[]).length>0})},n.updateFirstValidationError=function(){var e=n.props,t=e.submissionAppState,r=e.errorTree,i=t.showValidation,a=null;if(i){var s=n.state,o=s.firstSubmissionSchemaPartWithError,c;s.titleHasError?a=r.errors&&r.errors.map(function(e){return e.errorMessage}).join(" "):o&&(a=(((r.children||{})[o.id]||{}).errors||[]).map(function(e){return e.errorMessage}).join(" "))}n.handleInputWithErrorFocus(),setTimeout(function(){n.setState({firstValidationError:a})},1500)},n.state={firstValidationError:null,titleHasError:!1,firstSubmissionSchemaPartWithError:null,inputValue:t.submission.title?t.submission.title:""},n}a()(AssignmentSubmitEditView,e);var t=AssignmentSubmitEditView.prototype;return t.componentDidUpdate=function componentDidUpdate(e){var t=this.props,n=t.submissionAppState,r=t.errorTree,i=n.showValidation;if(e.submissionAppState.showValidation!==i){var a=this.getFirstSubmissionSchemaPartWithError(),s;a&&(s=a),this.setState(_objectSpread({titleHasError:r.errors&&r.errors.length>0},{firstSubmissionSchemaPartWithError:s}),this.updateFirstValidationError)}},t.render=function render(){var e=this,t=this.props,n=t.courseId,r=t.submission,i=t.submissionSchema,a=t.errorTree,s=t.isSubmitted,p=t.submissionAppState,h=p.saveState,v=p.submitState,b=p.showValidation,g=t.renderInlineNode,S=t.updateSubmissionPartGenerator,y=t.blockSubmitPartGenerator,E=t.itemId,I=t.versionedAssignmentId,w=t.creatorId,P=t.draftHasLocalChanges,C=this.state,O=C.firstValidationError,R=C.inputValue,A="saving"===h||"submitting"===v||s,T=m.a.get("Flex","enableSimilarityCheckerV3");return o.a.createElement(l.a,null,o.a.createElement("div",{className:"rc-AssignmentSubmitEditView"},o.a.createElement("div",{className:"project-title",id:"titleLabel"},f()("Project Title")," *"),o.a.createElement("input",{className:"c-peer-review-submit-text-field bt3-form-control",type:"text","aria-labelledby":"titleLabel",defaultValue:r.title,placeholder:R.length?"":f()("Give your project a descriptive title"),onChange:this.handleTitleChange,"aria-required":!0,disabled:A,id:"title",ref:function ref(t){e.titleInputRef=t}}),b&&o.a.createElement(u.a,{errorTree:a}),o.a.createElement("div",{className:"parts"},i.parts.map(function(e){var t=null;return t=r.parts&&r.parts[e.id]?r.parts[e.id]:r.invalidParts[e.id],o.a.createElement(c.a,{courseId:n,key:e.id,partId:e.id,submissionSchemaPart:e,submissionPart:t,update:S(e.id),blockSubmit:y(e.id),disabled:A,errorTree:a&&a.children[e.id],showValidation:b,renderInlineNode:g,itemId:E,versionedAssignmentId:I,creatorId:w,draftHasLocalChanges:P})})),T&&o.a.createElement("div",{className:"plagiarism-detection"},o.a.createElement(d.a,null)),o.a.createElement("div",{className:"sr-only","aria-live":"polite",role:"region"},b&&O)))},AssignmentSubmitEditView}(o.a.Component);e.a=b},MmiW:function(module,exports,e){},NVtM:function(module,e,t){"use strict";var n=t("q1tI"),r=t.n(n),i=t("5iHD"),a=t("OGqI"),s=t.n(a),o=function LightNotification(e){var t=e.translatedMsg;return r.a.createElement("div",{className:"rc-LightNotification"},r.a.createElement("div",{className:"icon"},r.a.createElement(i.a,{size:24,color:"white"})),r.a.createElement("span",{className:"message"},t))};e.a=o},NelE:function(module,e,t){"use strict";var n=t("q1tI"),r=t.n(n),i=t("oihH"),a=t("6qFN"),s=t.n(a),o=function DisplayPart(e){var t=e.reviewSchemaPart,n,a=Object(i.a)(t.get("typeName")).DisplayPart;return r.a.createElement("div",{className:"rc-DisplayPart"},r.a.createElement(a,e))};e.a=o},NxPu:function(module,e,t){"use strict";var n=t("tG+S"),r="cml",i={dtdId:"assess/1",value:"<co-content><text></text></co-content>"};function getImageUploadOptions(e,t){return{context:{courseId:e,itemId:t},pendingAssetCreation:{assetType:"image",typeName:"pending",tags:[]},assetCreationUrl:"/api/onDemandPeerAssetCreationAttempts.v1"}}var a=[n.o.Bold,n.o.Italic,n.o.Underline,n.o.Divider,n.o.Link,n.o.Unlink,n.o.OrderedList,n.o.UnorderedList,n.o.Code];e.a={getImageUploadOptions:getImageUploadOptions,richTextBlocks:a}},"O+1n":function(module,e,t){"use strict";t.d(e,"a",function(){return s}),t.d(e,"b",function(){return o});var n=t("lSNA"),r=t.n(n),i=t("e7w0"),a=t("6sE6");function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s=function fetchVerifiableId(){return Object(i.a)({}).then(function(e){return e.id})},o=function verifyAssignment(e,t){return Object(a.a)(e,{data:{typeName:"verificationRequest",definition:{requestBody:_objectSpread({skipVerification:!0},t&&{fullName:t})}}})},c=function verifyAssignmentWithViewModel(e){o(e.get("verifiableId")).then(function(){e.trigger("verificationComplete",{hasVerified:!0})}).done()},u=function fetchVerifiableIdAndVerifyAssignment(e){s().then(function(t){return e.set("verifiableId",t),e}).then(c)}},OGqI:function(module,exports,e){var t=e("TXoW"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},OGt8:function(module,exports,e){var t=e("93XN"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},PSGO:function(module,e,t){"use strict";var n=t("q1tI"),r=t.n(n),i=t("oYk5"),a=t.n(i),s=function PlainTextEditView(e){var t=e.submissionPart,n=e.update,i=e.disabled,s=e.id,o=e.ariaLabelledBy;if("plainText"!==t.typeName)return null;return r.a.createElement("textarea",{id:s,defaultValue:t.definition.plainText,className:"c-peer-review-submit-text-field bt3-form-control","aria-labelledby":o,onChange:function onChange(e){var r=a.a.extend(!0,{},t);r.definition.plainText=e.target.value,n(r)},disabled:i})};e.a=s},PfZc:function(module,e,t){"use strict";var n=t("VbXa"),r=t.n(n),i=t("q1tI"),a=t.n(i),s=t("w/1P"),o=t.n(s),c=t("C9+b"),u=t("NxPu"),l=t("7GkZ"),d=t("R6Zj"),m=t.n(d),p=function(e){function RichTextCMLEditor(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={isFocused:!1},t.onFocus=function(){t.setState({isFocused:!0})},t.onBlur=function(){t.setState({isFocused:!1})},t}var t;return r()(RichTextCMLEditor,e),RichTextCMLEditor.prototype.render=function render(){var e=this.props,t=e.content,n=e.courseId,r=e.itemId,i=e.onChange,s=e.id,d;if(e.disabled)return a.a.createElement(l.a,{cml:t,contentId:s});var m=this.state.isFocused;return a.a.createElement("div",{className:o()("rc-RichTextCmlEditor",{focused:m})},a.a.createElement(c.a,{blocks:u.a.richTextBlocks,onFocus:this.onFocus,onBlur:this.onBlur,changeDelay:0,cml:t,imageUploadOptions:u.a.getImageUploadOptions(n,r),onChange:i,id:s}))},RichTextCMLEditor}(a.a.Component);e.a=p},PmkO:function(module,exports,e){var t=e("1SWu"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},Q3zy:function(module,e,t){"use strict";t.d(e,"b",function(){return m}),t.d(e,"c",function(){return p}),t.d(e,"a",function(){return f});var n=t("lSNA"),r=t.n(n),i=t("S+eF"),a=t.n(i),s=t("fw5G"),o=t.n(s),c=t("DnuM");function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u=Object(c.a)("/api/onDemandPeerSubmissionDrafts.v1",{type:"rest"}),l=["submission","context","creatorId","attachedAssignmentId","createdAt","upgradeSubmissionToLatestAssignment","blocksSubmit","validationErrors","onDemandPeerReviewSchemas.v1(reviewSchema)","onDemandPeerSubmissionSchemas.v1(submissionSchema)"],d=["reviewSchemas","submissionSchemas"];function responseHandler(e){if(e.elements&&e.elements.length){var t=e.linked["onDemandPeerSubmissionSchemas.v1"]&&e.linked["onDemandPeerSubmissionSchemas.v1"].length&&e.linked["onDemandPeerSubmissionSchemas.v1"][0],n=e.linked["onDemandPeerReviewSchemas.v1"]&&e.linked["onDemandPeerReviewSchemas.v1"].length&&e.linked["onDemandPeerReviewSchemas.v1"][0];if(null==t)throw new Error("No linked submission schema in onDemandPeerSubmissionDraftsApi");return _objectSpread(_objectSpread({},e.elements[0]),{},{reviewSchema:n,submissionSchema:t})}throw new Error("No elements received in onDemandPeerSubmissionDraftsApi")}var m=function getSubmissionDraft(e){var t=e.userId,n=e.courseId,r=e.itemId,i="".concat(t,"~").concat(n,"~").concat(r),s=new o.a(i).addQueryParam("fields",l.join(",")).addQueryParam("includes",d.join(","));return a()(u.get(s.toString())).then(responseHandler)},p=function updateSubmissionDraft(e){var t=e.userId,n=e.courseId,r=e.itemId,i=e.submissionDraftUpdate,s="".concat(t,"~").concat(n,"~").concat(r),c=new o.a(s).addQueryParam("fields",l.join(",")).addQueryParam("includes",d.join(","));return a()(u.put(c.toString(),{data:i})).then(responseHandler)},f=function forceUpgradedSubmissionDraft(e){var t=e.userId,n=e.courseId,r=e.itemId,i=e.forceUpgradeToAssignmentId,s="".concat(t,"~").concat(n,"~").concat(r),c=(new o.a).addQueryParam("action","forceUpgradedDraft").addQueryParam("id",s).addQueryParam("forceUpgradeToAssignmentId",i).addQueryParam("fields",l.join(",")).addQueryParam("includes",d.join(","));return a()(u.post(c.toString())).then(function(e){return e[0]})}},QRX4:function(module,exports,e){},"R/a6":function(module,exports,e){var t=e("VqIK"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},R2D1:function(module,e,t){"use strict";var n=t("q1tI"),r=t.n(n),i=t("EqTq"),a=t("kvW3"),s=t("h4VP"),o=t("VrxA"),c=t("DuzF"),u=t("qC2T"),l=t.n(u),d=t("UhpO"),m=t.n(d),p=1,f=Object(i.a)("MinWordCount"),h=function wordCount(e){if(!e)return 0;if("string"==typeof e){var t=new c.a,n=Object(o.a)(e),r=Object(s.b)(t.toCML(n,!0));return Object(s.f)(r)}return Object(s.f)(e)},v=function MinWordCount(e){var t=e.minWordCount,n=e.content,i=h(n),s=t||1,o=t?l()("Minimum {minWordCount, plural, one{# word} other{# words}}: {currentWordCount, number}"):l()("Your answer needs to be a little bit longer. Write a few sentences to complete your assignment.");return r.a.createElement("div",{className:f()},i<s&&r.a.createElement(a.b,{message:o,minWordCount:t,currentWordCount:i}))};e.a=v},R6Zj:function(module,exports,e){var t=e("llHL"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},RF5Q:function(module,exports,e){},Sw8l:function(module,e,t){"use strict";t.d(e,"b",function(){return o}),t.d(e,"a",function(){return c});var n=t("J4zp"),r=t.n(n),i=t("q1tI"),a=t.n(i),s=Object(i.createContext)({isReadyForCheck:!1,setIsReadyForCheck:function setIsReadyForCheck(){return},isPollingTimedOut:!1,setIsPollingTimedOut:function setIsPollingTimedOut(){return},similarityChecksDataMap:{},setSimilarityChecksDataMap:function setSimilarityChecksDataMap(){return}}),o=function usePlagiarismDetectionContext(){return Object(i.useContext)(s)},c=function PlagiarismDetectionContextProvider(e){var t=e.children,n=Object(i.useState)(!1),o=r()(n,2),c=o[0],u=o[1],l=Object(i.useState)(!1),d=r()(l,2),m=d[0],p=d[1],f=Object(i.useState)({}),h=r()(f,2),v=h[0],b=h[1];return a.a.createElement(s.Provider,{value:{isReadyForCheck:c,setIsReadyForCheck:u,isPollingTimedOut:m,setIsPollingTimedOut:p,similarityChecksDataMap:v,setSimilarityChecksDataMap:b}},t)}},TXoW:function(module,exports,e){},UhpO:function(module,exports,e){var t=e("ajYi"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},Ux1H:function(module,e,t){"use strict";var n=t("VbXa"),r=t.n(n),i=t("+c4W"),a=t.n(i),s=t("MJIl"),o=t.n(s),c=t("3WF5"),u=t.n(c),l=t("mRsi"),d=t.n(l),m=t("q1tI"),p=t.n(m),f=t("w/1P"),h=t.n(f),v=t("yhVA"),b=t.n(v),g=function(e){function AssignmentSubmitAlertsView(){return e.apply(this,arguments)||this}var t;return r()(AssignmentSubmitAlertsView,e),AssignmentSubmitAlertsView.prototype.render=function render(){var e=this.props,t=e.isSubmitted,n=e.submissionAppState,r=n.submitState,i=n.saveState,s=n.showValidation,c=n.errorMessage,u=e.errorTree;if(!u||!s)return null;if(t)return p.a.createElement("div",{className:"rc-AssignmentSubmitAlertsView"},b()("Your work is submitted."));var l=o()(AssignmentSubmitAlertsView.getAllErrors(u),a()("blocksSubmit")),d=!!c,m=!c&&"ready"===r&&"ready"===i&&l,f=!c&&"saveError"===i&&!c,v=!c&&"submitError"===r&&"ready"===i&&l,g=!c&&"submitError"===r&&"ready"===i&&!l,S=h()("rc-AssignmentSubmitAlertsView","bt3-alert",{"bt3-alert-warning":m,"bt3-alert-danger":d||f||v||g});if(!(d||m||f||v||g))return null;return p.a.createElement("div",{className:S},d&&p.a.createElement("span",null,c),v&&p.a.createElement("span",null,b()("Error submitting assignment: please fix the errors below before submitting.")),m&&p.a.createElement("span",null,b()("Your assignment was saved, but please fix the errors below before submitting.")),g&&p.a.createElement("span",null,b()("Your assignment was saved, but an unknown error occurred while submitting.\n              Please refresh the page and try again.")),f&&p.a.createElement("span",null,b()("Save error. Please try again.")))},AssignmentSubmitAlertsView}(p.a.Component);g.getAllErrors=function(e){if(!e)return[];var t=d()(u()(e.children,function(e){return g.getAllErrors(e)}));return e.errors.concat(t)},e.a=g},VWxS:function(module,e,t){"use strict";var n=t("VbXa"),r=t.n(n),i=t("q1tI"),a=t.n(i),s=t("8cuT"),o=t("F/us"),c=t.n(o),u=t("MnCE"),l=t("yhVA"),d=t.n(l),m=t("J2aD"),p=t("7Diq"),f=t("1xaR"),h=t("C2np"),v=t("VMeS"),b=t("j/mg"),g=t("eQF6"),S=t("yMmU"),y=t("EdUP"),E=t("hbUA"),I=t("PmkO"),w=t.n(I),P=function(e){function PeerSubmissionWithReviewBody(){return e.apply(this,arguments)||this}r()(PeerSubmissionWithReviewBody,e);var t=PeerSubmissionWithReviewBody.prototype;return t.shouldShowReviews=function shouldShowReviews(e){var t=this.props,n=t.reviewProgress,r=t.reviewSchema,i=t.reviews,a=t.computedItem,s=a.isGraded,o;if(0===(null!=r?c()(r.definition.parts).filter(function(t){return t.submissionSchemaPartId===e}):[]).length||s&&!Object(E.z)(a))return!1;return!!i&&i.length>0&&(!n||n&&n.isComplete)},t.render=function render(){var e=this,t=this.props,n=t.courseId,r=t.computedItem,i=t.submission,s=t.submissionId,o=t.submissionSchema,c=t.reviewSchema,u=t.reviewsSummary,l=t.reviews,v=t.isResubmissionAllowed,y=Object(f.a)(c);return a.a.createElement("div",{className:"rc-PeerSubmissionWithReviewsBody"},!(!o||!i)&&o.parts.map(function(t){return a.a.createElement(g.a,{key:t.id},a.a.createElement(m.a,{submissionSchemaPart:t,submissionPart:i.parts[t.id]}),e.shouldShowReviews(t.id)&&a.a.createElement(S.a,null,a.a.createElement(p.a,{reviewSchema:y,reviewsSummary:u,reviews:l,submissionSchemaPartId:t.id,submissionId:s})))}),this.shouldShowReviews()&&a.a.createElement(g.a,null,a.a.createElement(S.a,null,a.a.createElement(p.a,{reviewSchema:y,reviewsSummary:u,reviews:l,submissionSchemaPartId:null,submissionId:s}))),!!s&&v&&a.a.createElement(b.a,{computedItem:r,submissionId:s,className:"align-right",buttonMessage:d()("Edit submission")}),null!=s&&a.a.createElement(h.a,{computedItem:r,courseId:n,submissionId:s}))},PeerSubmissionWithReviewBody}(a.a.Component);e.a=Object(u.compose)(Object(s.a)(["PeerViewSubmissionStore","PeerPermissionsAndProgressesStore"],function(e){var t=e.PeerViewSubmissionStore,n=e.PeerPermissionsAndProgressesStore,r=t.getState().submissionAndRelated,i,a=t.getState().reviewSubmissionState,s="loaded"===t.getState().loadState,o;s&&null!=a&&(o=a.backboneReviews);var c=n.getState().receivedReviewProgresses,u=c&&c.evaluationIfReady?{typeName:"structured",definition:c.evaluationIfReady.aggregatedReviewsSummary}:null,l=c?{isComplete:!!c.evaluationIfReady,earliestCompletionTime:c.earliestCompletionTime,reviewCount:c.reviewCount,minCompletionReviewCount:c.defaultReceivedReviewRequiredCount}:null;return{submission:t.getState().naptimeSubmission,submissionId:t.getState().submissionId,reviews:o,reviewSchema:r&&r.reviewSchema,submissionSchema:t.getState().naptimeSubmissionSchema,reviewsSummary:u,reviewProgress:l,isPeerViewSubmissionStoreLoaded:s}}),Object(y.a)(function(e){return e.isPeerViewSubmissionStoreLoaded},a.a.createElement(v.a,{className:"rc-PeerSubmissionWithReviewsBody"})))(P)},VqIK:function(module,exports,e){},Wrj3:function(module,exports,e){},"X/PO":function(module,e,t){"use strict";var n=t("q1tI"),r=t.n(n),i=t("Ev5W"),a=function GitRepoView(e){var t=e.submissionPart;return r.a.createElement(i.a,{repositoryId:t.gitRepositoryId,launchRole:t.launchRole,courseId:t.courseId,itemId:t.itemId,learnerUserId:t.submitterUserId})};e.a=a},XgYJ:function(module,e,t){"use strict";var n=t("VbXa"),r=t.n(n),i=t("SDZF"),a=t("QjDL"),s=function(e){function AlicePeerReviewSubmitEvent(t){var n,r=t.courseBranchId,i=t.itemId;return(n=e.call(this,{type:a.i,courseBranchId:r})||this).itemId=i,n.id="".concat(a.i,"~").concat(r,"~").concat(i),n}return r()(AlicePeerReviewSubmitEvent,e),AlicePeerReviewSubmitEvent}(i.a);e.a=s},Y3VV:function(module,e,t){"use strict";var n=t("lSNA"),r=t.n(n),i=t("VbXa"),a=t.n(i),s=t("17x9"),o=t.n(s),c=t("q1tI"),u=t.n(c);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l=function(e){function ContextProvider(t){var n;n=e.call(this,t)||this;var r={};return Object.keys(t.customContext).forEach(function(e){r[e]=o.a.any}),ContextProvider.childContextTypes=_objectSpread(_objectSpread({},ContextProvider.childContextTypes),r),n}a()(ContextProvider,e);var t=ContextProvider.prototype;return t.getChildContext=function getChildContext(){return Object.assign({},this.props.customContext)},t.render=function render(){return u.a.cloneElement(this.props.children,this.props)},ContextProvider}(u.a.Component);l.displayName=l,l.childContextTypes={},e.a=l},ZAK3:function(module,exports,e){var t=e("f8X8"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},Zq70:function(module,e,t){"use strict";var n=t("lSNA"),r=t.n(n),i=t("q1tI"),a=t.n(i),s=t("VMeS"),o=t("PDuk"),c=t("9eLo"),u=t("Sw8l"),l=t("2tO6");function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d="STAFF",m="PEER",p=function useExponentialRefetching(e,t){var n=Object(i.useRef)([1e4,1e4,2e4,2e4,6e4,6e4,6e4]),r,a=Object(u.b)().setIsPollingTimedOut,s;return function startRefetching(r){var i=t.current||{},s=i.result,o=i.status,c=n.current.splice(0,1);if(0===c.length||s)return void(0===c.length&&a(!0));setTimeout(function(){(!s&&o||r)&&(e(),startRefetching(r))},c[0])}},f=function PlagiarismDetectionContainerV3(e){var t=e.submitForCheck,n=e.refetchReport,o=e.similarityChecksData,c=e.loading,d=e.responseId,m=Object(u.b)(),f=m.isReadyForCheck,h=m.setIsReadyForCheck,v=m.similarityChecksDataMap,b=m.setSimilarityChecksDataMap,g=Object(i.useRef)(o);Object(i.useEffect)(function(){g.current=o},[o]);var S=p(n,g);if(Object(i.useEffect)(function(){S(!1)},[]),Object(i.useEffect)(function(){var e;f&&!(null===(e=g.current)||void 0===e?void 0:e.result)&&(t().then(function(){h(!1)}),S(!0))},[f]),Object(i.useEffect)(function(){b(_objectSpread(_objectSpread({},v),{},r()({},d,void 0)))},[d]),Object(i.useEffect)(function(){o&&b(_objectSpread(_objectSpread({},v),{},r()({},d,o)))},[o]),c)return a.a.createElement(s.a,null);var y=o||{},E=y.result,I=y.status;if(!E&&!I||!I)return null;return a.a.createElement(l.a,{result:E,status:I,refetch:n})},h=function PlagiarismDetectionContainerV3Container(e){var t=e.courseId,n=e.itemId,r=e.authorId,i=e.assignmentType,s=e.responseId,u=e.hasContent,l=e.hasUnsavedChanges,d=Object(o.c)([i,s]);if(l||!u)return null;return a.a.createElement(c.b,{courseId:t,authorId:r,itemId:n,questionResponseId:d,skip:!u},function(e){var t=e.similarityChecksData,n=e.refetchReport,r=e.submitForCheck,i=e.loading;return a.a.createElement(f,{loading:i,submitForCheck:r,similarityChecksData:t,refetchReport:n,responseId:s})})};e.a=h},Zr0k:function(module,e,t){"use strict";t.d(e,"b",function(){return m}),t.d(e,"a",function(){return f}),t.d(e,"d",function(){return h}),t.d(e,"c",function(){return v}),t.d(e,"f",function(){return b}),t.d(e,"e",function(){return g});var n=t("RIqP"),r=t.n(n),i=t("Q3zy"),a=t("5AUN"),s=t("Ef0b"),o=t("Hk9X"),c=t("uhR6"),u=function onSaveSuccess(e){return function(t){return e.dispatch(c.a.PEER_SUBMIT_UPDATE_ALERTS,{severity:"warning"}),e.dispatch(c.a.PEER_SUBMIT_UPDATE_LATEST_SUBMISSION_DRAFT,{latestSubmissionAndRelated:t}),e.dispatch(c.a.PEER_SUBMISSION_APP_STATE_SAVE_SUCCESS),t}},l=function onAutoSaveSuccess(e){return function(t){return e.dispatch(c.a.PEER_SUBMIT_UPDATE_ALERTS,{severity:"warning"}),e.dispatch(c.a.PEER_SUBMIT_UPDATE_LATEST_SUBMISSION_DRAFT,{latestSubmissionAndRelated:t}),e.dispatch(c.a.PEER_SUBMISSION_APP_STATE_AUTO_SAVE_SUCCESS),t}},d=function onSaveFailure(e){return function(t){if(t.responseJSON||t.status)return e.dispatch(c.a.PEER_SUBMISSION_APP_STATE_SAVE_ERROR,{statusCode:t.status,response:t.responseJSON}),null;throw t}},m=function localUpdateSubmission(e,t){var n=t.submission;e.dispatch(c.a.PEER_SUBMIT_LOCAL_UPDATE_DRAFT_SUBMISSION,{submission:n})},p=function updateSubmissionDraft(e){var t=e.userId,n=e.courseId,r=e.itemId,a=e.submission;if(null==a.versionedAssignmentId)throw new Error("Error saving draft submission: could not find existing assignment id");return i.c({userId:t,courseId:n,itemId:r,submissionDraftUpdate:{submission:{title:a.definition.title,parts:a.definition.parts},attachedAssignmentId:a.versionedAssignmentId}})},f=function autoSaveSubmission(e,t){var n=t.userId,r=t.courseId,i=t.itemId,a=t.submission;return e.dispatch(c.a.PEER_SUBMISSION_APP_STATE_SAVING),p({userId:n,courseId:r,itemId:i,submission:a}).then(function(e){return Object(o.d)(e)}).then(l(e),d(e))},h=function saveSubmission(e,t){var n=t.userId,r=t.courseId,i=t.itemId,a=t.submission,s=t.assignmentVersion;return e.dispatch(c.a.PEER_SUBMISSION_APP_STATE_SAVING),p({userId:n,courseId:r,itemId:i,submission:a}).then(function(e){return Object(o.d)(e)}).then(u(e),d(e))},v=function resetSubmission(e,t){var n=t.courseId,r=t.courseSlug,i=t.userId,o=t.itemId,c=t.submissionId;return a.b({userId:i,courseId:n,itemId:o,submissionId:c}).then(function(){return e.executeAction(s.c,{itemId:o,userId:i,courseId:n,courseSlug:r})})},b=function upgradeSubmission(e,t){var n=t.assignmentVersion,r=t.forceUpgradeToAssignmentVersion,a=t.itemId,c=t.courseId,u=t.courseSlug,l=t.userId,m=t.submission;if(null==m.versionedAssignmentId)throw new Error("Error upgrading assignment: could not find existing assignment id");var f="".concat(m.versionedAssignmentId.split("@")[0],"@").concat(r);return i.a({userId:l,courseId:c,itemId:a,forceUpgradeToAssignmentId:f}).then(function(e){return Object(o.f)(e)}).then(function(e){return p({itemId:a,submission:e,courseId:c,userId:l})}).then(function(e){return Object(o.d)(e)}).catch(d(e)).then(function(){return e.executeAction(s.c,{itemId:a,userId:l,courseId:c,courseSlug:u})})},g=function submitSubmission(e,t){var n=t.itemId,i=t.submission,l=t.assignmentVersion,m=t.verifiableId,f=t.courseId,h=t.courseSlug,v=t.userId;return e.dispatch(c.a.PEER_SUBMISSION_APP_STATE_SUBMITTING),p({itemId:n,submission:i,courseId:f,userId:v}).then(function(e){return Object(o.d)(e)}).then(u(e),d(e)).then(function(e){var t=!1,n;e&&e.errorTree&&e.errorTree.errors&&(t=!![].concat(r()(e.errorTree.errors),r()(Object.keys(e.errorTree.children).reduce(function(t,n){return[].concat(r()(t),r()(e.errorTree.children[n].errors))},[]))).some(function(e){return e.blocksSubmit}));if(t||!e)throw new Error("submit blocked by errors");return e}).then(function(e){return a.d({courseId:f,itemId:n,verifiableId:m,draftCreatedAt:e.submission.createdAt})}).then(function(){return e.dispatch(c.a.PEER_SUBMISSION_APP_STATE_SUBMIT_SUCCESS),e.executeAction(s.c,{itemId:n,userId:v,courseId:f,courseSlug:h})}).catch(function(){return e.dispatch(c.a.PEER_SUBMISSION_APP_STATE_SUBMIT_ERROR)})}},aHji:function(module,exports,e){},aPOU:function(module,e,t){"use strict";var n=t("q1tI"),r=t.n(n),i=t("BkRI"),a=t.n(i),s=t("KMW/"),o=t("PfZc"),c=t("nU/4"),u=t("R2D1"),l=t("r6aM"),d=function enableDefaultMinWordCount(e){return s.a.get("PeerReview","enableDefaultMinWordCount",{course_id:e})},m=function RichTextEditView(e){var t,n,i=e.courseId,s=e.submissionPart,m=e.update,p=e.disabled,f=e.partId,h=e.submissionSchemaPart,v=e.ariaLabelledBy,b=function mapContentFn(e){return e},g=s.definition.richText;if("richText"!==s.typeName||"string"==typeof g)return null;var S=g.typeName,y="cml"===S?o.a:c.a,E;"html"===S?(E=g.definition,b=function mapContentFn(e){return{typeName:"html",definition:e}}):E=g;var I=Object(l.a)(h),w=null==h?void 0:null===(t=h.details)||void 0===t?void 0:null===(n=t.definition)||void 0===n?void 0:n.minWordCount,P=w||d(i);return r.a.createElement("div",{className:"rc-RichTextEditView"},!p&&r.a.createElement(y,{content:E,courseId:i,itemId:f,promptText:I,onChange:function onChange(e){var t=a()(s);t.definition.richText=b(e),m(t)},ariaLabelledBy:v}),p&&r.a.createElement(y,{content:E,courseId:i,itemId:f,promptText:I,onChange:function onChange(e){var t=a()(s);t.definition.richText=b(e),m(t)},ariaLabelledBy:v}),P&&r.a.createElement(u.a,{minWordCount:w,content:E}))};e.a=m},ajYi:function(module,exports,e){},b7Px:function(module,e,t){"use strict";var n=t("q1tI"),r=t.n(n),i=t("MnCE"),a=t("oyNZ");function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _objectWithoutProperties(e,t){if(null==e)return{};var n=_objectWithoutPropertiesLoose(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++){if(r=a[i],t.indexOf(r)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,r))continue;n[r]=e[r]}}return n}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++){if(i=r[a],t.indexOf(i)>=0)continue;n[i]=e[i]}return n}var s=function SvgWarning(e){var t=e.title,r=void 0===t?"Warning":t,i=_objectWithoutProperties(e,["title"]);return n.createElement(a.a,_extends({title:r},i,{viewBox:"0 0 48 48"}),n.createElement("g",{transform:"translate(0.000000, 3.000000)"},n.createElement("path",{d:"M24.0000923,0 L9.23076923e-05,42 L48.0000923,42 L24.0000923,0 Z M24.0000923,3.76226667 L44.8191692,40.1333333 L3.18101538,40.1333333 L24.0000923,3.76226667 Z"}),n.createElement("polygon",{points:"25.3846154 15.8666667 22.6153846 15.8666667 23.0769231 28.9333333 24.9230769 28.9333333"}),n.createElement("path",{d:"M24,31.7246533 C22.98,31.7246533 22.1538462,32.56092 22.1538462,33.59132 C22.1538462,34.62172 22.98,35.4579867 24,35.4579867 C25.02,35.4579867 25.8461538,34.62172 25.8461538,33.59132 C25.8461538,32.56092 25.02,31.7246533 24,31.7246533"})))};(s=Object(i.pure)(s)).displayName="SvgWarning",e.a=s},c1oE:function(module,exports,e){},cbTo:function(module,exports,e){var t=e("E+pM"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},dN2h:function(module,e,t){"use strict";var n=t("VbXa"),r=t.n(n),i=t("SDZF"),a=t("QjDL"),s=function(e){function AlicePeerReviewSaveEvent(t){var n,r=t.courseBranchId,i=t.itemId;return(n=e.call(this,{type:a.h,courseBranchId:r})||this).itemId=i,n.id="".concat(a.h,"~").concat(r,"~").concat(i),n}return r()(AlicePeerReviewSaveEvent,e),AlicePeerReviewSaveEvent}(i.a);e.a=s},e6Tq:function(module,e,t){"use strict";var n=t("VbXa"),r=t.n(n),i=t("q1tI"),a=t.n(i),s=t("KMW/"),o=t("beC1"),c=t("PDuk"),u=t("xIa5"),l=t("Zq70"),d=t("aPOU"),m=t("PSGO"),p=t("1N/A"),f=t("3H1I"),h=t("fiqM"),v=t("mk7w"),b=t("C6SX"),g=t.n(b),S=function(e){function SubmissionPartEditView(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).promptId="prompt-".concat(t.props.partId),t.inputId="input-".concat(t.props.partId),t.state={hasUnsavedChanges:!1},t.updatePart=function(e){var n=t.props.update;t.setState({hasUnsavedChanges:!0}),n(e)},t}r()(SubmissionPartEditView,e);var t=SubmissionPartEditView.prototype;return t.componentDidUpdate=function componentDidUpdate(e){var t=this.props.draftHasLocalChanges,n=this.state.hasUnsavedChanges;e.draftHasLocalChanges&&!t&&n&&this.setState({hasUnsavedChanges:!1})},t.renderEditor=function renderEditor(){var e=this.props,t=e.courseId,n=e.submissionPart,r=e.update,i=e.blockSubmit,s=e.disabled,o=e.isPartReceivingInlineFeedback,c=e.submissionSchemaPart;switch(n.typeName){case"plainText":return a.a.createElement(m.a,{submissionPart:n,ariaLabelledBy:this.promptId,id:this.inputId,update:r,disabled:s});case"richText":return a.a.createElement(d.a,{submissionPart:n,update:this.updatePart,disabled:s,partId:this.inputId,courseId:t,submissionSchemaPart:c,ariaLabelledBy:this.promptId});case"url":return a.a.createElement(p.a,{submissionPart:n,id:this.inputId,update:this.updatePart,disabled:s,ariaLabelledBy:this.promptId});case"fileUpload":return a.a.createElement(f.a,{id:this.inputId,submissionPart:n,update:this.updatePart,blockSubmit:i,disabled:s,isPartReceivingInlineFeedback:o});case"offPlatform":return a.a.createElement(h.a,null);default:return!1}},t.render=function render(){var e,t,n=this.props,r=n.submissionSchemaPart,i=n.errorTree,d=n.showValidation,m=n.renderInlineNode,p=n.partId,f=n.itemId,h=n.courseId,b=n.versionedAssignmentId,g=n.creatorId,S=n.submissionPart,y=r.id,E=this.state.hasUnsavedChanges,I=!!(null===(e=r.plagiarismConfig)||void 0===e?void 0:e.plagiarismCheckEnable),w=s.a.get("Flex","enableSimilarityCheckerV3"),P=!!S.definition.fileUrl||!!(null===(t=S.definition.richText)||void 0===t?void 0:t.definition);return a.a.createElement("div",{className:"rc-SubmissionPartEditView",id:y},a.a.createElement("div",{className:"c-peer-review-submit-prompt"},a.a.createElement("div",null,a.a.createElement(o.a,{content:r.prompt,assumeStringIsHtml:!0,contentId:this.promptId,display:"inline-block"})),m&&m(p)),this.renderEditor(),d&&i&&a.a.createElement(v.a,{errorTree:i}),I&&(w?a.a.createElement(l.a,{courseId:h,itemId:f,authorId:g,assignmentType:u.a.PEER,responseId:Object(c.c)([b||"",y]),hasContent:P,hasUnsavedChanges:E}):a.a.createElement(u.b,{courseId:h,itemId:f,authorId:g,assignmentType:u.a.PEER,responseId:Object(c.c)([b||"",y]),hasContent:P,hasUnsavedChanges:E})))},SubmissionPartEditView}(a.a.Component);e.a=S},e7w0:function(module,e,t){"use strict";var n=t("2DyI"),r=t("CzRB");e.a=function(e){var t=Object(n.a)(e).then(function(e){return new r.a(e.elements[0])});return t.done(),t}},eQF6:function(module,e,t){"use strict";var n=t("q1tI"),r=t.n(n),i=t("OGt8"),a=t.n(i),s=function SubmissionViewTable(e){var t=e.children;return r.a.createElement("div",{className:"rc-SubmissionViewTable"},t)};e.a=s},f0vN:function(module,e,t){"use strict";var n=t("VbXa"),r=t.n(n),i=t("17x9"),a=t.n(i),s=t("q1tI"),o=t.n(s),c=t("sQ/U"),u=t("+2ZD"),l=t("IDuc"),d=t("Zr0k"),m=t("yhVA"),p=t.n(m),f=t("JOPA"),h=t.n(f),v=function(e){function SubmissionDeleteModal(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={deletionInProgress:!1},t.handleSubmissionDelete=function(){var e=t.props,n=e.submissionId,r=e.computedItem.id,i=e.courseId,a=e.courseSlug,s=c.a.get().id;t.setState({deletionInProgress:!0}),t.context.executeAction(d.c,{itemId:r,submissionId:n,userId:s,courseId:i,courseSlug:a})},t}var t;return r()(SubmissionDeleteModal,e),SubmissionDeleteModal.prototype.render=function render(){return this.props.showModal?o.a.createElement(u.a,{className:"rc-SubmissionDeleteModal",handleClose:this.props.onModalClose,modalName:p()("Have you reviewed your feedback?")},o.a.createElement("h3",{className:"headline-4-text title"},p()("Have you reviewed your feedback?")),o.a.createElement("p",null,p()("\n              Your feedback on this submission will be deleted when you start editing your project. You can resubmit\n              your project for feedback when you finish editing.\n            ")),o.a.createElement("div",{className:"c-modal-action-bar"},o.a.createElement(l.a,{className:"passive",onClick:this.props.onModalClose,trackingName:"edit_project_cancel"},p()("Cancel")),o.a.createElement("button",{disabled:this.state.deletionInProgress,className:"primary submission-button",onClick:this.handleSubmissionDelete},this.state.deletionInProgress?p()("Loading..."):p()("Edit my submission")))):null},SubmissionDeleteModal}(o.a.Component);v.contextTypes={executeAction:a.a.func},e.a=v},f8X8:function(module,exports,e){},fAMf:function(module,e,t){"use strict";var n=t("3WF5"),r=t.n(n),i=t("O7iK"),a=t.n(i),s=t("WQ4j"),o=function initializeSubmissionFromSchema(e,t,n){var i;return{title:"",parts:a()(r()(e.parts,function(e){var t=e.id,r=e.details;return[t,Object(s.a)(r.typeName,n)]})),invalidParts:{},isDraft:!0,submittedBy:t,submittedAt:Date.now(),id:""}};e.a=o},fiqM:function(module,e,t){"use strict";var n=t("q1tI"),r=t.n(n),i=t("yhVA"),a=t.n(i),s=t("NVtM"),o=function OffPlatformView(){return r.a.createElement(s.a,{translatedMsg:a()("Follow the instructions to complete this activity. Your grade will be updated after review by course staff.")})};e.a=o},g0hK:function(module,e,t){"use strict";var n=t("q1tI"),r=t.n(n),i=t("MnCE"),a=t("oyNZ");function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _objectWithoutProperties(e,t){if(null==e)return{};var n=_objectWithoutPropertiesLoose(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++){if(r=a[i],t.indexOf(r)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,r))continue;n[r]=e[r]}}return n}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++){if(i=r[a],t.indexOf(i)>=0)continue;n[i]=e[i]}return n}var s=function SvgReload(e){var t=e.title,r=void 0===t?"Reload":t,i=_objectWithoutProperties(e,["title"]);return n.createElement(a.a,_extends({title:r},i,{viewBox:"0 0 48 48"}),n.createElement("path",{d:"M38,28.0087 C38,38.0087 29.925,45.9857 20,45.9857 C10.075,45.9857 2,37.9437 2,28.0437 C2,18.0927 10.075,10.0087 20,10.0087 L25.586,10.0087 L18.586,16.5897 L20,18.0017 L29.414,9.0007 L20,-0.0003 L18.586,1.4187 L25.586,8.0087 L20,8.0087 C8.972,8.0087 0,16.9977 0,28.0507 C0,39.0527 8.972,47.9877 20,47.9877 C31.028,47.9877 40,39.0087 40,28.0087 L38,28.0087 Z"}))};(s=Object(i.pure)(s)).displayName="SvgReload",e.a=s},gBtg:function(module,e,t){"use strict";var n=t("VbXa"),r=t.n(n),i=t("17x9"),a=t.n(i),s=t("q1tI"),o=t.n(s),c=t("KwvP"),u=function(e){function AssignmentSubmitWrapper(){return e.apply(this,arguments)||this}r()(AssignmentSubmitWrapper,e);var t=AssignmentSubmitWrapper.prototype;return t.componentDidMount=function componentDidMount(){c.a.scroll(0)},t.render=function render(){return this.props.isSubmitted?this.props.submittedView:this.props.editView},AssignmentSubmitWrapper}(o.a.Component);u.propTypes={isSubmitted:a.a.bool.isRequired,submittedView:a.a.node.isRequired,editView:a.a.node.isRequired},e.a=u},gLuy:function(module,exports,e){},gp8a:function(module,exports,e){},hETs:function(module,e,t){"use strict";var n=t("VbXa"),r=t.n(n),i=t("17x9"),a=t.n(i),s=t("q1tI"),o=t.n(s),c=t("w/1P"),u=t.n(c),l=t("beC1"),d=t("37kS"),m=t.n(d),p=t("1Nwa"),f=t.n(p),h=function(e){function AssignmentUpgradeChanges(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).renderChange=function(e,n){if("AddsPart"===e.typeName)return t.renderChangeItem(n,"cif-plus-square",m()("Added question."),o.a.createElement("tr",{className:"bt3-success"},o.a.createElement("th",null,m()("Added")),o.a.createElement("td",{className:"change-contents"},o.a.createElement("div",null,o.a.createElement(l.a,{assumeStringIsHtml:!0,content:e.definition.prompt})))));if("RemovesPart"===e.typeName)return t.renderChangeItem(n,"cif-minus-square",m()("Removed question."),o.a.createElement("tr",{className:"bt3-danger"},o.a.createElement("th",null,m()("Removed")),o.a.createElement("td",{className:"change-contents"},o.a.createElement("div",null,o.a.createElement(l.a,{assumeStringIsHtml:!0,content:e.definition.prompt})))));if("ChangesPart"===e.typeName){var r=e.definition.changes,i=r.find(function(e){return"ChangesPrompt"===e.typeName}),a=r.filter(function(e){return"ChangesPrompt"!==e.typeName});return t.renderChangeItem(n,"cif-square",m()("Changed question."),[o.a.createElement("tr",{className:u()({"bt3-danger":!!i}),key:"changedQuestionPrompt"},o.a.createElement("th",null,m()("Original")),o.a.createElement("td",{className:"change-contents"},o.a.createElement("div",null,o.a.createElement(l.a,{assumeStringIsHtml:!0,content:e.definition.prompt})))),i&&t.renderPartChange(i,"promptChange"),a.map(t.renderPartChange),0===r.length&&m()("Unknown change.")])}return null},t.renderPartChange=function(e,t){var n="ChangesPrompt"===e.typeName?m()("New"):"",r=!1;return"ChangesPrompt"===e.typeName?r=o.a.createElement("div",{key:t},o.a.createElement(l.a,{assumeStringIsHtml:!0,content:e.definition.newPrompt})):"ChangesPoints"===e.typeName?r=m()("The new version of this question has different point values."):"ChangesOptions"===e.typeName?r=m()("The new version of this multiple choice question has different options."):"ChangesValidationRules"===e.typeName&&(r=m()("The new version of this question allows a different set of responses.")),o.a.createElement("tr",{className:"ChangesPrompt"===e.typeName?"bt3-success":"bt3-warning",key:t},o.a.createElement("th",null,n),o.a.createElement("td",{className:"change-contents"},r))},t}r()(AssignmentUpgradeChanges,e);var t=AssignmentUpgradeChanges.prototype;return t.excludeNoChangeChanges=function excludeNoChangeChanges(e){return e.filter(function(e){return"NoChange"!==e.typeName})},t.renderChangeGroup=function renderChangeGroup(e,t){var n=this.excludeNoChangeChanges(e);return 0!==n.length&&o.a.createElement("div",null,o.a.createElement("h2",null,t),o.a.createElement("ul",{className:"cif-list-ul"},n.map(this.renderChange)))},t.renderChangeItem=function renderChangeItem(e,t,n,r){return o.a.createElement("li",{className:"change-item",key:e},o.a.createElement("i",{className:t}),o.a.createElement("span",{className:"type-of-change"},n),o.a.createElement("div",{className:"change-table-container"},o.a.createElement("table",{className:"bt3-table"},o.a.createElement("tbody",null,r))))},t.render=function render(){return o.a.createElement("div",{className:"rc-AssignmentUpgradeChanges"},this.renderChangeGroup(this.props.upgradeToCurrentAssignment.submissionSchemaChanges,m()("Assignment question changes")),this.renderChangeGroup(this.props.upgradeToCurrentAssignment.reviewSchemaChanges,m()("Review question changes")))},AssignmentUpgradeChanges}(o.a.Component);h.propTypes={upgradeToCurrentAssignment:a.a.object.isRequired},e.a=h},i4j5:function(module,e,t){"use strict";var n=t("VbXa"),r=t.n(n),i=t("w/1P"),a=t.n(i),s=t("q1tI"),o=t.n(s),c=t("17x9"),u=t.n(c),l=t("+2ZD"),d=t("hETs"),m=t("37kS"),p=t.n(m),f=function(e){function AssignmentUpgradeNotification(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={modalOpen:!1},t.onClickSeeChanges=function(){t.setState({modalOpen:!0})},t.onClickUpgrade=function(){t.onModalClose(),t.props.onRequestUpgrade()},t.onModalClose=function(){t.setState({modalOpen:!1})},t}r()(AssignmentUpgradeNotification,e);var t=AssignmentUpgradeNotification.prototype;return t.renderAlert=function renderAlert(){var e=a()({"bt3-alert":!0,"bt3-alert-info":!this.props.showStaleAssignmentVersionError,"bt3-alert-danger":this.props.showStaleAssignmentVersionError});return o.a.createElement("div",{className:e},p()("A new version of this assignment exists."),"",o.a.createElement("button",{type:"button",className:"button-link",onClick:this.onClickSeeChanges},p()("Click here to see the changes and get the new version.")))},t.renderModal=function renderModal(){if(this.state.modalOpen){var e=this.props.upgradeToCurrentAssignment,t=!1,n=!1;return null!=e&&("NotifiesUser"===e.severity?(t=p()("Upgrade assignment"),n=o.a.createElement("p",null,p()('\n                The assignment changed since you started working on it. Click\n                "Upgrade assignment" to get the new assignment. Please read the\n                new assignment carefully and update your submission to follow\n                the new instructions.\n              '))):"ClearsSubmission"===e.severity&&(t=p()("Delete draft and upgrade assignment"),n=o.a.createElement("p",null,p()("\n                The assignment changed since you started working on it. We need\n                to delete your draft to give you the new assignment.\n              ")," ",o.a.createElement("strong",null,p()("\n                  Please save a copy of your submission outside Coursera before\n                  continuing.\n                "))," ",p()('\n                Click "Delete draft and upgrade assignment" to get the new\n                assignment. If youd like to not update your assignment, you can click Cancel and submit your answers on the old version.\n              ')))),o.a.createElement(l.a,{handleClose:this.onModalClose,modalName:p()("New assignment version")},o.a.createElement("div",{className:"rc-AssignmentUpgradeNotification assignment-upgrade-explanation"},o.a.createElement("h3",null,p()("New assignment version")),n,null!=this.props.upgradeToCurrentAssignment&&o.a.createElement(d.a,{upgradeToCurrentAssignment:this.props.upgradeToCurrentAssignment}),o.a.createElement("div",{className:"c-modal-action-bar"},o.a.createElement("button",{type:"button",className:"bt3-btn c-modal-action-button",onClick:this.onModalClose},p()("Cancel")),o.a.createElement("button",{type:"button",className:"bt3-btn bt3-btn-success c-modal-action-button",onClick:this.onClickUpgrade},t))))}return null},t.render=function render(){var e=this.props.upgradeToCurrentAssignment;return e&&"AutomaticallyUpgrades"!==e.severity?o.a.createElement("div",{className:"rc-AssignmentUpgradeNotification"},this.renderAlert(),this.renderModal()):null},AssignmentUpgradeNotification}(o.a.Component);f.propTypes={onRequestUpgrade:u.a.func.isRequired,showStaleAssignmentVersionError:u.a.bool.isRequired,upgradeToCurrentAssignment:u.a.object},e.a=f},i5JE:function(module,exports,e){var t=e("MmiW"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},ikkI:function(module,exports,e){var t=e("/8bL"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},"j/mg":function(module,e,t){"use strict";var n=t("VbXa"),r=t.n(n),i=t("17x9"),a=t.n(i),s=t("q1tI"),o=t.n(s),c=t("F/us"),u=t.n(c),l=t("8cuT"),d=t("MnCE"),m=t("w/1P"),p=t.n(m),f=t("IDuc"),h=t("f0vN"),v=t("BVC1"),b=function(e){function SubmissionEditButton(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={showModal:!1},t.openModal=function(){t.setState({showModal:!0})},t.closeModal=function(){t.setState({showModal:!1})},t}r()(SubmissionEditButton,e);var t=SubmissionEditButton.prototype;return t.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this.props,n=t.hasLoaded,r=t.isSubmitted,i=t.computedItem;n&&r&&!e.isSubmitted&&(this.context.router.push(v.a.join(i.resourcePath,"submit")),this.closeModal())},t.render=function render(){var e=this.props,t=e.hasLoaded,n=e.canDelete,r=e.submissionId,i=e.computedItem,a=e.className,s=e.courseId,c=e.courseSlug,u=e.buttonMessage;if(!t)return null;return o.a.createElement("div",null,o.a.createElement("div",{className:p()("rc-SubmissionEditButton",a)},o.a.createElement(f.a,{className:"button secondary",disabled:!n,onClick:this.openModal,trackingName:"edit_project"},u)),this.state.showModal&&o.a.createElement(h.a,{showModal:!0,computedItem:i,onModalClose:this.closeModal,submissionId:r,courseId:s,courseSlug:c}))},SubmissionEditButton}(o.a.Component);b.contextTypes={router:a.a.object},e.a=Object(d.compose)(Object(l.a)(["PeerPermissionsAndProgressesStore","CourseStore"],function(e){var t=e.PeerPermissionsAndProgressesStore,n=e.CourseStore,r,i,a,s;return{hasLoaded:"loaded"===t.getState().loadState,canDelete:u()(t.getState().capabilities).contains("deleteSubmission"),isSubmitted:t.getState().isSubmitted,courseId:n.getCourseId(),courseSlug:n.getCourseSlug()}}))(b)},j4LP:function(module,e,t){"use strict";t.d(e,"a",function(){return createMountNode}),t.d(e,"b",function(){return runTrackingRouter});var n=t("1mBx"),r=t.n(n),i=t("q1tI"),a=t.n(i),s=t("i8i4"),o=t.n(s),c=t("tta6"),u=t("3Hqd");function createMountNode(e){var t=document.getElementById(e);return t||((t=document.createElement("div")).id=e,document.body.appendChild(t)),t}function runTrackingRouter(e,t){return Object(c.a)({routes:e}).then(function(e){return o.a.render(a.a.createElement(r.a,e),t),e.router})}var l,d={createMountNode:createMountNode,runTrackingRouter:runTrackingRouter}},jkO5:function(module,exports,e){},jmjd:function(module,exports,e){},k7PM:function(module,e,t){"use strict";var n=t("2G20"),r=t("S+eF"),i=t.n(r);e.a=function(e,t){return i()(n.a.put(e,t))}},kwea:function(module,exports,e){},lS9S:function(module,exports,e){var t=e("c1oE"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},llHL:function(module,exports,e){},mgnl:function(module,e,t){"use strict";var n=t("q1tI"),r=t.n(n),i=t("37kS"),a=t.n(i),s=t("EqTq"),o=t("BxDD"),c=t("CsdX"),u=t("AWZ4"),l=t("8WNh"),d=t("g0hK"),m=t("Sw8l"),p=t("D8S9"),f=t("kvW3"),h=t("PJ/k"),v=t.n(h),b=t("ikkI"),g=t.n(b),S=function getPlagiarismDetectionMetaData(e){var t=Object.keys(e),n,r,i,a;return{totalPartsCount:t.length,availableResultsCount:t.reduce(function(t,n){var r;return(null===(r=e[n])||void 0===r?void 0:r.result)?t+1:t},0),plagiarismDetectedPartsCount:t.reduce(function(t,n){var r,i=(e[n]||{}).result;if(i&&i.orgCourseraSimilaritycheckSimilarityCheckSuccess&&i.orgCourseraSimilaritycheckSimilarityCheckSuccess.score>0)return t+1;return t},0),inProgressPartsCount:t.reduce(function(t,n){var r,i=(e[n]||{}).status;if(i&&"IN_PROGRESS"===i)return t+1;return t},0)}},y=Object(s.a)("PlagiarismDetectionSummary"),E=function PlagiarismDetectionSummaryDescription(e){var t=e.inProgressPartsCount,n=e.availableResultsCount,i=e.totalPartsCount,s,o;if(Object(m.b)().isPollingTimedOut)return r.a.createElement("div",null,a()("The Plagiarism Checker is taking longer than expected. Refresh to get results."));if(t>0){if(0===n)return r.a.createElement("div",null,a()("Scanning assigment for plagiarism, this might take a few minutes"));return r.a.createElement(f.b,{message:a()("{availableResultsCount} / {totalPartsCount} {totalPartsCount, plural, =1 {response} other {responses}} returned"),availableResultsCount:n,totalPartsCount:i})}return r.a.createElement("div",null,a()("Scan your assignment for similarities with our Plagiarism Checker."))},I=function PlagiarismDetectionSummaryScanControls(e){var t=e.inProgressPartsCount,n=e.totalPartsCount,i=Object(m.b)(),s=i.isReadyForCheck,p=i.setIsReadyForCheck,f;if(i.isPollingTimedOut)return r.a.createElement(o.a,{type:"noStyle",label:a()("Refresh"),size:"sm",onClick:function onClick(){location.reload()},svgElement:r.a.createElement(d.a,{size:16,color:c.b.primary})});if(t>0||s)return r.a.createElement("div",{className:y("loader-container")},r.a.createElement(l.a,{size:32}),r.a.createElement("div",{className:y("loader-text")},a()("Scanning ... ")));if(0===n)return r.a.createElement(h.OverlayTrigger,{placement:"bottom",delay:100,overlay:r.a.createElement(h.Tooltip,{id:"PlagiarismDetectionButtonToolTip"},a()("No assignment detected"))},r.a.createElement("div",{className:y("check-button-container")},r.a.createElement(u.b,{type:"primary",disabled:!0,label:a()("Scan for plagiarism"),size:"md",onClick:function onClick(){p(!0)}})));return r.a.createElement(u.b,{type:"primary",label:a()("Scan for plagiarism"),size:"md",onClick:function onClick(){p(!0)}})},w=function PlagiarismDetectionSummary(){var e,t=Object(m.b)().similarityChecksDataMap,n=S(t),i=n.totalPartsCount,s=n.availableResultsCount,o=n.plagiarismDetectedPartsCount,c=n.inProgressPartsCount;if(s===i&&0!==i){if(0===o)return r.a.createElement(p.b,{type:p.a.NOT_DETECTED,title:a()("Plagiarism not detected")});return r.a.createElement(p.b,{type:p.a.DETECTED,title:r.a.createElement(f.b,{message:a()("We've detected plagiarism in {plagiarismDetectedPartsCount} {plagiarismDetectedPartsCount, plural, =1 {response} other {responses}}"),plagiarismDetectedPartsCount:o})},a()("Edit your answer and check again for plagiarism before submitting your assignment."))}return r.a.createElement("div",{className:y()},r.a.createElement("div",{className:y("title")},a()("Plagiarism Detection")),r.a.createElement("div",{className:y("description")},r.a.createElement(E,{inProgressPartsCount:c,availableResultsCount:s,totalPartsCount:i})),r.a.createElement(I,{inProgressPartsCount:c,totalPartsCount:i}))};e.a=w},nbX0:function(module,e,t){"use strict";function htmlToPlainText(e){return e.replace(/(https?:\/\/[^\s]+)/gi,"").replace(/<p>/gi," ").replace(/<([^>]+)>/gi,"").replace(/&nbsp;/gi," ")}t.d(e,"a",function(){return htmlToPlainText})},"o/MR":function(module,e,t){"use strict";t.d(e,"a",function(){return l});var n=t("S+eF"),r=t.n(n),i=t("fw5G"),a=t.n(i),s=t("DnuM"),o=Object(s.a)("/api/onDemandPeerAssignmentInstructions.v1",{type:"rest"}),c=["instructions"],u=["requiredAuthoredReviewCount","isMentorGraded","assignmentDetails"],l=function getAssignment(e){var t=e.userId,n=e.courseId,i=e.itemId,s=(new a.a).addQueryParam("q","latest").addQueryParam("userId",t.toString()).addQueryParam("courseId",n).addQueryParam("itemId",i).addQueryParam("includes",["gradingMetadata","reviewSchemas","submissionSchemas"].join(",")).addQueryParam("fields",[c,"onDemandPeerAssignmentGradingMetadata.v1(".concat(u.join(","),")"),"onDemandPeerReviewSchemas.v1(reviewSchema)","onDemandPeerSubmissionSchemas.v1(submissionSchema)"].join(","));return r()(o.get(s.toString()))}},pLWS:function(module,e,t){"use strict";var n=t("8cuT"),r=t("W1i5"),i=t("F/us"),a=t.n(i),s=t("EdUP"),o=t("1xaR"),c=t("7AOT");e.a=a.a.compose(Object(n.a)(["PeerPermissionsAndProgressesStore"],function(e,t){var n=e.PeerPermissionsAndProgressesStore;return{hasLoaded:"loaded"===n.getState().loadState,capabilitiesWithReasons:n.getState().capabilitiesWithReasons}}),Object(s.a)(function(e){return e.hasLoaded}),Object(r.a)(function(e){var t,n=!1,r=null===(t=e.capabilitiesWithReasons)||void 0===t?void 0:t.viewReviewSchema,i;return r&&(n=r.isAllowed&&"privilegedRole"===r.reason),{criteria:Object(o.a)(e.reviewSchema).getPartsForSubmissionSchemaPart(e.partId),privilegedRoleViewReviewSchema:n}}))(c.a)},qPyB:function(module,e,t){"use strict";var n=t("VbXa"),r=t.n(n),i=t("q1tI"),a=t.n(i),s=t("eJMc"),o=t.n(s),c=t("sQ/U"),u=t("BVC1"),l=t("DnuM"),d=t("hbUA"),m=t("yhVA"),p=t.n(m),f=Object(l.a)("/api/onDemandPeerSubmissions.v1",{type:"rest"}),h=function(e){function PeerItemShareableLink(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={showLink:!1},t}r()(PeerItemShareableLink,e);var t=PeerItemShareableLink.prototype;return t.componentDidMount=function componentDidMount(){var e=this,t=this.props.computedItem;f.post("?action=disableUrlSharing&userId=".concat(c.a.get().id,"&courseId=").concat(t.courseId),{data:{}}).then(function(t){!1===t&&e.setState({showLink:!0})})},t.render=function render(){var e=this.props,t=e.computedItem,n=e.submissionId,r=this.state.showLink;if(Object(d.q)(t)||!r)return null;var i=u.a.join([t.resourcePath,"review",n]);return a.a.createElement(o.a,{to:i,className:"rc-PeerItemShareableLink"},p()("Shareable Link"))},PeerItemShareableLink}(a.a.Component);e.a=h},qVZV:function(module,exports,e){var t=e("RF5Q"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},r6aM:function(module,e,t){"use strict";t.d(e,"a",function(){return getPromptText});var n=t("GoyQ"),r=t.n(n),i=t("nbX0"),a=t("9vL/");function getPromptText(e){var t=r()(e.prompt),n="string"==typeof e.prompt?{}:e.prompt,s=n.typeName,o=void 0===s?"":s,c=n.definition,u=void 0===c?"":c,l="";return t&&("cml"===o&&(l=a.a.toPlainText(e.prompt)||""),"html"===o&&"string"==typeof u&&(l=Object(i.a)(u))),l}},rvzQ:function(module,exports,e){},s2tf:function(module,e,t){"use strict";var n=t("dN2h"),r=t("XgYJ"),i=t("xmcF");e.a=Object(i.a)(function(e){var t=e.itemId,i=e.courseBranchId,a=e.courseId,s=e.hasSaved,o=e.hasSubmitted;if(s)return new n.a({courseBranchId:i,itemId:t});if(o)return new r.a({courseBranchId:i,itemId:t});return null},function(e){var t;return{course_id:e.courseId}})(function(){return null})},sTn5:function(module,exports,e){var t=e("kwea"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},tDXo:function(module,e,t){"use strict";var n=t("lSNA"),r=t.n(n),i=t("cDf5"),a=t.n(i),s=t("oYk5"),o=t.n(s),c=t("S+eF"),u=t.n(c),l=t("q1tI"),d=t.n(l),m=t("i8i4"),p=t.n(m),f=t("F/us"),h=t.n(f),v=t("rC9M"),b=t.n(v),g=t("Y3VV"),S=t("7MHW"),y=t("ROEb"),E=t("r9wp"),I=t("welz"),w=t.n(I),require;function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var P="backbone_region",C="react_region";w.a.View.prototype._super=function(e){return this.constructor.__super__[e].apply(this,h.a.rest(arguments))};var O=null,R={current:null,body:"#origami",views:{},openDepth:0,beforeUnloadMessage:"There are unsaved changes that will be lost if you reload or leave this page.",regionHasUnsavedModel:function regionHasUnsavedModel(e){if(!e)return!1;var t;if(!(!e.view||!e.view.hasUnsavedModel)&&e.view.hasUnsavedModel())return!0;for(var n in e.regions){var r=e.regions[n];if(R.regionHasUnsavedModel(r))return!0}return!1}},A=w.a.Router.extend({initialize:function initialize(){var e=this;this.routePrefix="",this.visitedFragments=[],this.$confirmNavigation=o()(b()({})),o()("body").append(this.$confirmNavigation),o()(window).on("beforeunload.origami",function(){if(R.regionHasUnsavedModel(R.current))return R.beforeUnloadMessage})},setupLinks:function setupLinks(e,t){var n=this;this.routePrefix=e,this.linkSelector=t,o()("body").on("click","a"+this.linkSelector,function(e){e.ctrlKey||e.metaKey||(e.preventDefault(),n.navigateTo(o()(e.currentTarget).attr("href"),!0))})},addFragmentToVisited:function addFragmentToVisited(e,t){if("object"===a()(t)&&t.replace)return;this.visitedFragments?this.visitedFragments.push(e):this.visitedFragments=[e]},navigateTo:function navigateTo(e,t){e||y.a.error("router.navigateTo received no href"),this.navigate(e.replace(this.routePrefix,""),t)},navigate:function navigate(e,t){if(R.current&&R.regionHasUnsavedModel(R.current)){var n,r;o()(".confirm-navigation-message").text(R.beforeUnloadMessage),o()(".confirm-navigation-leave").one("click",function(n){this.addFragmentToVisited(e),w.a.Router.prototype.navigate.call(n.currentTarget,e,t)}.bind(this));var i={"overlay.class":"coursera-overlay"};Object(E.default)(".confirm-navigation",i).open()}else this.addFragmentToVisited(e,t),w.a.Router.prototype.navigate.call(this,e,t)},addRoutes:function addRoutes(e,t){var n=this;for(var r in e){var i=e[r];t&&(i=t(i)),n.route(r,r,i),n.route(r+"/",r+"/",function(){var e,t=w.a.history.getFragment().replace(/\/(?:\?.*)*$/,"");n.navigate(t,{trigger:!0,replace:!0})})}},start:function start(e){var t;w.a.history.start({pushState:!0,hashChange:!1,root:e})||this.trigger("error",404)},unsavedWarningModal:function unsavedWarningModal(e){if(R.current&&R.regionHasUnsavedModel(R.current)){var t={"overlay.class":"coursera-overlay"},n;o()(".confirm-navigation-message").text(R.beforeUnloadMessage);var r=Object(E.default)(".confirm-navigation",t);r.once("action",function(t){e(t)}),r.open()}else e(!0)}}),T=function region(e,t){var n=this,r=t||{};this.type=e,this.regions=r.regions||{},this.initialize=r.initialize||{},this.to=r.to,this.options={},this.props=t.props||{},this.context=t.context||{},this.fluxibleContext=t.fluxibleContext,this.reactRouter=t.reactRouter,this.id=r.id||e.prototype.name,this.name=e.prototype.name||r.name,this.view=null,this.regions=o.a.extend({},e.prototype.subregions,r.regions||{})};T.prototype.close=function(e){var t=this;h.a.each(t.regions,function(n,r){delete t.regions[r],n&&n.close(e)}),t.view.trigger("view:closed"),e||t.view.remove(),t.view.undelegateEvents(),t.view.off("view")},T.prototype.closing=function(){this.view.trigger("view:closing"),delete R.views[this.view.cid]},T.prototype.render=function(e){var t=this,n=h.a.compact(h.a.values(t.regions));return h.a.each(n,function(e){e.render(),e.parent=t}),this.type.prototype.isReactComponent?(this.kind=C,this.renderReactComponent()):(this.kind=P,this.renderBackboneView()),h.a.each(n,function(e){var n=e.view&&e.view.el,r=e.to||e.view&&e.view.to;h.a.isFunction(r)&&(r=r()),r&&!o.a.contains(document,n)&&(t.view.$(r).append(n),e.appended())}),e&&t.view.on("view:appended",function(){e.trigger("region:appended",{name:t.name})}),t},T.prototype.renderBackboneView=function(){this.view=new this.type(this.initialize),this.view.region=this,this.view.render(this.render)},T.prototype.renderReactComponent=function(){var e=this.context.fluxibleContext,t=this.context.router,n=Object.assign({},e?_objectSpread({fluxibleContext:e},e):{},t?{router:t}:{}),r=h.a.compose(S.a)(this.type);this.view=new w.a.View,this.view.region=this;var i=d.a.createElement(g.a,{customContext:n},d.a.createElement(r,this.props));this.view.remove=function(){return p.a.unmountComponentAtNode(this.el),w.a.View.prototype.remove.call(this),this},this.view.on("view:appended",function(){p.a.render(i,this.el)})},T.prototype.appended=function(){var e=this;e.view&&setTimeout(function(){e.view.trigger("view:appended")},0)},T.prototype.append=function(e,t){var n=this,r=u.a.defer();this.regions||(this.regions={});var i=function renderAndAppend(i){for(var a=e,s=0,c;n.regions[a];)a+=++s;if(n.regions[a]=i,i.render(O),c=t.to?h.a.isElement(t.to)?n.view.$(t.to):t.to:n.view.$el,h()(t).has("position")){var u=c.children().eq(t.position);u.length>0?o()(u[0]).before(i.view.el):c.append(i.view.el)}else c.append(i.view.el);i.appended(),O.renderedRegions.push(i),O.trigger("region:rendered",{name:i}),r.resolve(i)};return void 0!==e&&("string"==typeof e?O.region.fetch(e,t,i):i(new T(e,t))),r.promise},T.prototype.is=function(e){return e.type==this.type&&e.id==this.id},T.prototype.replace=function(e,t){this.view.$el.replaceWith(e.view.el),t&&t()},T.prototype.merge=function(e,t){var n=this;n.is(e)?h.a.each(e.regions,function(e,r){var i=n.regions[r];i&&e?(i.view.trigger("view:merging",e.initialize),i.merge(e,t),i.view.trigger("view:merged",e.initialize)):i&&!e&&(i.closing(),i.parent&&delete i.parent.regions[i.name],i.close())}):n.name==e.name&&(n.closing(),e.render(t),n.replace(e,function(){n.parent&&(n.parent.regions[e.name]=e,e.parent=n.parent,n.parent.appended()),n.close(),e.appended()}))};var N=function Origami(e,n){if(O)return O;this.renderedRegions=[],O=this,R.body=e,R.current=n,o()(window).on("resize",function(){for(var e in R.views)R.views[e].trigger("view:resize")}),this.region={make:function make(e,t){return new T(e,t)},fetch:function fetch(e,n,r){var i=h.a.uniqueId();O.trigger("region:fetching",{name:e,uid:i});var a=function returnRegion(t){O.trigger("region:fetched",{name:e,uid:i}),r(new T(t,n))},module=n.module,s=n.async;if(module&&module.lazy||module&&s)module(a);else if(module)a(module);else{var o,c;c=(null===(o=jest)||void 0===o?void 0:o.requireActual)?function req(e,n){var r;return n(t("AbQT")(e[0]))}:void 0,O.trigger("deprecatedUsage",{type:"asyncRequire",name:e}),c([e],a)}},getSingleton:function getSingleton(){return O},append:function append(e,t,n,r){e||(e={regions:{}});var i=function renderAndAppend(n){for(var i=t,a=0;e.regions[i];)i+=++a;return e.regions[i]=n,n.render(O),r&&r(n),n.appended(),O.renderedRegions.push(n),O.trigger("region:rendered",{name:n}),n};if(void 0!==t){if("string"!=typeof t)return i(new T(t,n));O.region.fetch(t,n,i)}},open:function open(e,t){var n=e,r={};0===R.openDepth&&O.trigger("open"),R.openDepth++;var i=function onFetch(e){var n=[];h.a.each(e.regions,function(t,r){if(!t)return;var i=u.a.defer();O.region.open(t,function(t){t.kind==P&&r!=t.name&&y.a.error("Region configured with name "+r+" but has name "+t.name),e.regions[r]=t,i.resolve(t)}),n.push(i.promise)}),u.a.allSettled(n).then(function(){if(t)return t(e);if(R.current){if(R.current.is(e))return void R.current.merge(e,O);if(R.current.name==e.name)return e.render(O),void R.current.replace(e,function(){R.current.close(),R.current=e,R.current.appended()});R.current.close(!0)}O.dontRender||(R.current=e,o()(R.body).html(R.current.render(O).view.$el),R.current.appended())}).done(function(){--R.openDepth<=0&&(O.on("close",function(){O.renderedRegions=[],R.current&&(R.current.view.once("view:closed",function(){R.current=void 0}),R.current.close.call(R.current))}),O.trigger("opened"))})};T.prototype.isPrototypeOf(e)?i(e):(h.a.isObject(e)&&(r=e[n=h.a.keys(e)[0]]),O.region.fetch(n,r,i))}},this.interruptRender=function(){this.dontRender=!0}.bind(this),this.cancelInterrupt=function(){this.dontRender=!1}.bind(this),this.router=new A,this.store={},this.tracker=[]};h.a.extend(N.prototype,w.a.Events),e.a=N},tdAb:function(module,exports,e){},tfTN:function(module,exports,e){var t=e("jmjd"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},uPmI:function(module,e,t){"use strict";t.d(e,"a",function(){return g});var n=t("S+eF"),r=t.n(n),i=t("F/us"),a=t.n(i),s=t("fw5G"),o=t.n(s),c=t("DnuM"),u=Object(c.a)("/api/onDemandPeerAssignmentPermissions.v1",{type:"rest"}),l="onDemandPeerSubmissionProgresses.v1",d="onDemandPeerReceivedReviewProgresses.v1",m="onDemandPeerDisplayablePhaseSchedules.v1",p=["latestSubmissionSummary","latestDraftSummary"],f=["evaluationIfReady","earliestCompletionTime","reviewCount","defaultReceivedReviewRequiredCount"],h=["currentPhase","phaseEnds","phaseStarts"],v=["deleteSubmission","listSubmissions","reviewPeers","viewReviewSchema","anonymousPeerReview","".concat(l,"(").concat(p.join(","),")"),"".concat(d,"(").concat(f.join(","),")"),"".concat(m,"(").concat(h.join(","),")")],b=["receivedReviewsProgress","submissionProgress","phaseSchedule"],g=function getPermissionsAndProgresses(e,t,n){var i=new o.a("".concat(e,"~").concat(t,"~").concat(n)).addQueryParam("fields",v.join(",")).addQueryParam("includes",b.join(","));return r()(u.get(i.toString())).then(function(e){return{assignmentPermissions:a()(e.elements).first(),submissionProgresses:a()(e.linked[l]).first(),receivedReviewProgresses:a()(e.linked[d]).first(),displayablePhaseSchedules:a()(e.linked[m]).first()}})}},uVbM:function(module,exports,e){var t=e("tdAb"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},vNB3:function(module,e,t){"use strict";var n=t("CWYE");e.a=Object(n.a)("/api/verifications.v1",{type:"rest"})},"vrb+":function(module,e,t){"use strict";var n=t("q1tI"),r=t.n(n),i=t("yhVA"),a=t.n(i),s=t("4uky"),o=function PeerAnonymousReviewNotification(e){var t=e.reviews,n=t.reviews.reduce(function(e,t){return t.isAnonymous?e+1:e},0);if(0===n)return null;if(n===t.reviews.length)return r.a.createElement(s.a,null,a()("Your fellow learners have submitted their reviews anonymously. All names are still visible to course instructors."));return r.a.createElement(s.a,null,a()("Some of your fellow learners have submitted their reviews anonymously. All names are still visible to course instructors."))};e.a=o},wrAX:function(module,exports,e){},yMmU:function(module,e,t){"use strict";var n=t("q1tI"),r=t.n(n),i=t("tfTN"),a=t.n(i),s=t("eJW0"),o=t.n(s),c=function SubmissionViewCell(e){var t=e.children,n=e.ariaLabel;return t?r.a.createElement("div",{className:"rc-SubmissionViewCell",role:"region","aria-label":n&&o()("Review prompt: #{ariaLabel}",{ariaLabel:n})},t):null};e.a=c},yOj8:function(module,e,t){"use strict";var n=t("VbXa"),r=t.n(n),i=t("q1tI"),a=t.n(i),s=t("oYk5"),o=t.n(s),c=t("2q9w"),u=t("F9Z8"),l=t("+2ZD"),d=t("4uky"),m=t("9Cgw"),p=t("O+1n"),f=t("yhVA"),h=t.n(f),v=function(e){function PeerItemVerificationSubmission(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={isSubmitting:!1,isAgreementComplete:!1,confirmedPreview:!1,showPreviewModal:!1,fullName:"",hasError:!1},t.handleSubmit=function(){if(!t.props.isVerifiable)return void t.props.handleSubmit();t.setState({isSubmitting:!0,hasError:!1});var e=null;Object(p.a)().then(function(n){return e=n,Object(p.b)(e,t.state.fullName)}).then(function(){null!=e&&t.props.handleSubmit(e)}).catch(function(){return t.setState({isSubmitting:!1,hasError:!0})}).done()},t.handleClickPreview=function(){t.setState({showPreviewModal:!0})},t.handlePreviewModalClose=function(){t.props.handleSave(),t.setState({showPreviewModal:!1,confirmedPreview:!0}),o()("html, body").animate({scrollTop:0},"slow")},t.onAgreementComplete=function(e){t.setState({isAgreementComplete:!0,fullName:e})},t.onAgreementIncomplete=function(){t.setState({isAgreementComplete:!1})},t}r()(PeerItemVerificationSubmission,e);var t=PeerItemVerificationSubmission.prototype;return t.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this.props.submissionAppState.submitState===m.b,n=e.submissionAppState.submitState===m.b;t&&!n?this.setState({isSubmitting:!1}):!t&&n&&this.setState({isSubmitting:!0})},t.render=function render(){var e,t=this.props,n=t.submissionAppState,r=t.lastSaveTime,i=t.handleSave,s=t.isVerifiable,o=t.computedItem,p=t.blockSubmit,f=t.capabilitiesWithReasons,v=this.state,b=v.isAgreementComplete,g=v.isSubmitting,S=v.hasError,y=null==f?void 0:null===(e=f.anonymousPeerReview)||void 0===e?void 0:e.isAllowed,E=h()("Preview"),I=this.handleClickPreview;return this.state.confirmedPreview&&(E=h()("Submit"),I=this.handleSubmit),a.a.createElement("div",{className:"rc-PeerItemVerificationSubmission",style:{marginTop:30}},s&&a.a.createElement(u.a,{onAgreementComplete:this.onAgreementComplete,onAgreementIncomplete:this.onAgreementIncomplete,isShownInsideModal:!1}),y&&a.a.createElement(d.a,null,h()("Your submission will be anonymous to fellow learners and your name will be visible to course instructors.")),a.a.createElement(c.a,{lastSaveTime:r,isSaving:n.saveState===m.a,isSubmitting:g,onSave:i,onSubmit:I,submitMessage:E,isSubmitDisabled:s&&!b||p,computedItem:o}),S&&a.a.createElement("div",{className:"align-right caption-text",style:{marginTop:12}},h()("An error has occurred while submitting. Please try again.")),this.state.showPreviewModal&&a.a.createElement(l.a,{className:"rc-SubmissionPreviewModal",handleClose:this.handlePreviewModalClose,modalName:h()("Ready to Submit?")},a.a.createElement("h3",{className:"headline-4-text title"},h()("Preview before submitting")),a.a.createElement("div",null,h()("Take a moment to preview your work before you submit it, to make sure the work is\n                completely your own and to see how it will look to your peers when they review it.")),a.a.createElement("div",{className:"horizontal-box align-items-right"},a.a.createElement("button",{type:"button",className:"primary",onClick:this.handlePreviewModalClose},h()("Preview")))))},PeerItemVerificationSubmission}(a.a.Component);e.a=v},"yfD/":function(module,e,t){"use strict";var n=t("lSNA"),r=t.n(n),i=t("VbXa"),a=t.n(i),s=t("q1tI"),o=t.n(s),c=t("17x9"),u=t.n(c),l=t("q3BH"),d=t("yhVA"),m=t.n(d),p=t("sQ/U"),f=t("EqTq"),h=t("yuQ2"),v=t("KIfn"),b=t("LwsB"),g=t("R/a6"),S=t.n(g);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var y=Object(f.a)("CommentsContainer"),E={LOADING:"LOADING",LOAD_ERROR:"LOAD_ERROR",SUBMITING:"SUBMITING",SUBMIT_ERROR:"SUBMIT_ERROR",READY:"READY"},I=function getNetworkStatusString(e){var t;return{LOADING:m()("Loading..."),LOAD_ERROR:m()("Load error!"),SUBMITING:m()("Submitting..."),SUBMIT_ERROR:m()("Submit error!")}[e]},w=function(e){function CommentsContainer(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).state={commentRowData:[],networkState:E.READY},t.onCommentFetchSuccess=function(e){var n=e.comments,i,a=e.userProfiles.reduce(function(e,t){return _objectSpread(_objectSpread({},e),{},r()({},t.userId,t))},{});t.setState({commentRowData:n.map(function(e){return{comment:e,creator:a[e.creatorId]}}),networkState:E.READY})},t.onPostingComment=function(e){var n=t.props,r=n.courseId,i=n.itemId,a=n.submissionId,s=t.context._eventData;return t.setState({networkState:E.SUBMITING}),Object(h.b)({comment:{typeName:"plain",definition:{comment:e}},courseId:r,itemId:i,submissionId:a}).then(function(){l.a.trackComponent(s,{comment_user_id:p.a.get().id,comment:e},"click","post")}).catch(function(){t.setState({networkState:E.SUBMIT_ERROR})}).then(t.fetchComments)},t.fetchComments=function(){var e=t.props,n=e.courseId,r=e.itemId,i=e.submissionId;return Object(h.a)({userId:p.a.get().id,courseId:n,itemId:r,submissionId:i}).then(t.onCommentFetchSuccess).catch(function(){t.setState({networkState:E.LOAD_ERROR})})},t}a()(CommentsContainer,e);var t=CommentsContainer.prototype;return t.componentDidMount=function componentDidMount(){this.setState({networkState:E.LOADING}),this.fetchComments()},t.componentDidUpdate=function componentDidUpdate(e){var t=this.props,n=t.courseId,r=t.itemId,i=t.submissionId;e.courseId===n&&e.itemId===r&&e.submissionId===i||this.fetchComments()},t.render=function render(){var e=this.props.submissionId,t=this.state,n=t.commentRowData,r=t.networkState;return o.a.createElement("div",{className:y()},r!==E.READY&&o.a.createElement("p",null,I(r)),o.a.createElement("h3",{className:y(void 0,void 0,"headline-1-text")},m()("Comments")),o.a.createElement("p",{className:y(void 0,void 0,"caption-text")},m()("Comments left for the learner are visible only to that learner and the person who left the comment.")),o.a.createElement("div",{className:y("input-section")},o.a.createElement(v.a,{submissionId:e,onPostingComment:this.onPostingComment})),o.a.createElement("div",{className:y("comments")},n.map(function(e){return o.a.createElement(b.a,{commentData:e,key:"".concat(e.comment.createdAt,"~").concat(e.comment.creatorId)})})))},CommentsContainer}(o.a.Component);w.contextTypes={_eventData:u.a.object},e.a=w},yuQ2:function(module,e,t){"use strict";t.d(e,"a",function(){return l}),t.d(e,"b",function(){return d});var n=t("S+eF"),r=t.n(n),i=t("fw5G"),a=t.n(i),s=t("DnuM"),o=Object(s.a)("/api/onDemandPeerComments.v1",{type:"rest"}),c="onDemandSocialProfiles.v1",u=["comment","attachedAssignmentId","creatorId","createdAt","peerSubmissionId","".concat(c,"(userId,externalUserId,fullName,photoUrl,courseRole,isAnonymous)")],l=function getComments(e){var t=e.userId,n=e.courseId,i=e.itemId,s=e.submissionId,l=(new a.a).addQueryParam("q","submission").addQueryParam("userId",t.toString()).addQueryParam("peerSubmissionId","".concat(n,"~").concat(i,"~").concat(s)).addQueryParam("fields",u.join(",")).addQueryParam("includes","profiles");return r()(o.get(l.toString())).then(function(e){return{comments:e.elements,userProfiles:e.linked[c]}})},d=function submitComment(e){var t=e.courseId,n=e.itemId,i=e.submissionId,s=e.comment,l=(new a.a).addQueryParam("fields",u.join(",")).addQueryParam("includes","profiles");return r()(o.post(l.toString(),{data:{comment:s,peerSubmissionId:"".concat(t,"~").concat(n,"~").concat(i)}})).then(function(e){return{comments:e.elements,userProfiles:e.linked[c]}})}},zAEL:function(module,exports,e){var t=e("Wrj3"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)}}]);
//# sourceMappingURL=26.cc12652fbe6db4493c46.js.map